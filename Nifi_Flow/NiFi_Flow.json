{"flowContents":{"identifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e","instanceIdentifier":"7eebefc4-019a-1000-7835-c267e9b01179","name":"NiFi Flow","comments":"","position":{"x":0.0,"y":0.0},"processGroups":[{"identifier":"f64f151c-8eb2-308c-9046-fe03432c5954","instanceIdentifier":"8e7b14f1-019a-1000-6d87-6fc27474f233","name":"cache_latest_prices","comments":"","position":{"x":1080.0,"y":192.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"8ef7f169-019a-1000-76c4-a311b9c77a2c","instanceIdentifier":"558f6c03-5b5e-3352-fe51-03f97b19945c","name":"put_stock_batch_cache","comments":"","position":{"x":1008.0,"y":56.0},"type":"org.apache.nifi.processors.standard.PutDistributedMapCache","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.6.0"},"properties":{"Cache Entry Identifier":"${cache.key}","Cache update strategy":"replace","Distributed Cache Service":"36a69204-c140-31b9-abc3-f2648f58755a","Max cache entry size":"1 MB"},"propertyDescriptors":{"Cache Entry Identifier":{"name":"Cache Entry Identifier","displayName":"Cache Entry Identifier","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Cache update strategy":{"name":"Cache update strategy","displayName":"Cache update strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Distributed Cache Service":{"name":"Distributed Cache Service","displayName":"Distributed Cache Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Max cache entry size":{"name":"Max cache entry size","displayName":"Max cache entry size","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f64f151c-8eb2-308c-9046-fe03432c5954"},{"identifier":"fc1d529e-b1ef-3d2d-a8bc-de9236636263","instanceIdentifier":"8eef057b-019a-1000-b112-e674c5d04d59","name":"put_crypto_batch_cache","comments":"","position":{"x":1008.0,"y":-168.0},"type":"org.apache.nifi.processors.standard.PutDistributedMapCache","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.6.0"},"properties":{"Cache Entry Identifier":"${cache.key}","Cache update strategy":"replace","Distributed Cache Service":"36a69204-c140-31b9-abc3-f2648f58755a","Max cache entry size":"1 MB"},"propertyDescriptors":{"Cache Entry Identifier":{"name":"Cache Entry Identifier","displayName":"Cache Entry Identifier","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Cache update strategy":{"name":"Cache update strategy","displayName":"Cache update strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Distributed Cache Service":{"name":"Distributed Cache Service","displayName":"Distributed Cache Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Max cache entry size":{"name":"Max cache entry size","displayName":"Max cache entry size","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f64f151c-8eb2-308c-9046-fe03432c5954"},{"identifier":"d90df575-2854-31eb-9339-5356558c8788","instanceIdentifier":"8ef652d2-019a-1000-d823-c37e767149db","name":"set_crypto_cache_key","comments":"","position":{"x":344.0,"y":-176.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.6.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null,"cache.key":"asset:latest_batch:crypto"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"cache.key":{"name":"cache.key","displayName":"cache.key","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f64f151c-8eb2-308c-9046-fe03432c5954"},{"identifier":"8ef7a610-019a-1000-d902-93a3805bdf79","instanceIdentifier":"7e91c4c0-8777-3e3a-93c7-95a5b4745aeb","name":"set_stock_cache_key","comments":"","position":{"x":344.0,"y":56.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.6.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null,"cache.key":"asset:latest_batch:stock"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"cache.key":{"name":"cache.key","displayName":"cache.key","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"f64f151c-8eb2-308c-9046-fe03432c5954"}],"inputPorts":[{"identifier":"b56c19bc-617e-35e8-bc8a-c1a76697534d","instanceIdentifier":"8e816188-019a-1000-f3a6-d7f1f31fd22b","name":"in_crypto_topN_for_cache","position":{"x":-216.0,"y":-128.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"f64f151c-8eb2-308c-9046-fe03432c5954"},{"identifier":"9d1297ff-9b69-39d6-aa56-e1013ac8a144","instanceIdentifier":"8e817b86-019a-1000-4b13-76d13163eb59","name":"in_stock_topN_for_cache","position":{"x":-224.0,"y":96.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"f64f151c-8eb2-308c-9046-fe03432c5954"}],"outputPorts":[],"connections":[{"identifier":"a1baecd8-00f1-3292-820e-5ffc36cf8bd5","instanceIdentifier":"8ef829f8-019a-1000-e18d-e8cb2211b690","name":"","source":{"id":"8ef7a610-019a-1000-d902-93a3805bdf79","type":"PROCESSOR","groupId":"f64f151c-8eb2-308c-9046-fe03432c5954","name":"set_stock_cache_key","comments":"","instanceIdentifier":"7e91c4c0-8777-3e3a-93c7-95a5b4745aeb"},"destination":{"id":"8ef7f169-019a-1000-76c4-a311b9c77a2c","type":"PROCESSOR","groupId":"f64f151c-8eb2-308c-9046-fe03432c5954","name":"put_stock_batch_cache","comments":"","instanceIdentifier":"558f6c03-5b5e-3352-fe51-03f97b19945c"},"labelIndex":0,"zIndex":10,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f64f151c-8eb2-308c-9046-fe03432c5954"},{"identifier":"d0f36f83-b2c1-306a-98ad-538c917c4853","instanceIdentifier":"8ef7485b-019a-1000-dcee-fcc18ad8bf91","name":"","source":{"id":"d90df575-2854-31eb-9339-5356558c8788","type":"PROCESSOR","groupId":"f64f151c-8eb2-308c-9046-fe03432c5954","name":"set_crypto_cache_key","comments":"","instanceIdentifier":"8ef652d2-019a-1000-d823-c37e767149db"},"destination":{"id":"fc1d529e-b1ef-3d2d-a8bc-de9236636263","type":"PROCESSOR","groupId":"f64f151c-8eb2-308c-9046-fe03432c5954","name":"put_crypto_batch_cache","comments":"","instanceIdentifier":"8eef057b-019a-1000-b112-e674c5d04d59"},"labelIndex":0,"zIndex":8,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f64f151c-8eb2-308c-9046-fe03432c5954"},{"identifier":"7301ce8a-fabc-3c63-abd0-c890be466b9c","instanceIdentifier":"8ef8223c-019a-1000-cc0c-99a3cbc9d3b6","name":"","source":{"id":"9d1297ff-9b69-39d6-aa56-e1013ac8a144","type":"INPUT_PORT","groupId":"f64f151c-8eb2-308c-9046-fe03432c5954","name":"in_stock_topN_for_cache","instanceIdentifier":"8e817b86-019a-1000-4b13-76d13163eb59"},"destination":{"id":"8ef7a610-019a-1000-d902-93a3805bdf79","type":"PROCESSOR","groupId":"f64f151c-8eb2-308c-9046-fe03432c5954","name":"set_stock_cache_key","comments":"","instanceIdentifier":"7e91c4c0-8777-3e3a-93c7-95a5b4745aeb"},"labelIndex":0,"zIndex":9,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f64f151c-8eb2-308c-9046-fe03432c5954"},{"identifier":"96e088aa-38d7-3938-959c-ffa1456e8d3a","instanceIdentifier":"8ef6d386-019a-1000-6502-17e5fa78c23a","name":"","source":{"id":"b56c19bc-617e-35e8-bc8a-c1a76697534d","type":"INPUT_PORT","groupId":"f64f151c-8eb2-308c-9046-fe03432c5954","name":"in_crypto_topN_for_cache","instanceIdentifier":"8e816188-019a-1000-f3a6-d7f1f31fd22b"},"destination":{"id":"d90df575-2854-31eb-9339-5356558c8788","type":"PROCESSOR","groupId":"f64f151c-8eb2-308c-9046-fe03432c5954","name":"set_crypto_cache_key","comments":"","instanceIdentifier":"8ef652d2-019a-1000-d823-c37e767149db"},"labelIndex":0,"zIndex":7,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"f64f151c-8eb2-308c-9046-fe03432c5954"}],"labels":[],"funnels":[],"controllerServices":[],"parameterContextName":"global-etl-context","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e"},{"identifier":"e5386e4f-037b-3ac5-9346-738ea5052622","instanceIdentifier":"8f0a9046-019a-1000-58b4-9abeeec07eb5","name":"cache_top_movers","comments":"","position":{"x":1752.0,"y":-496.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"8f142ad0-019a-1000-d006-0edc3c0e6c4b","instanceIdentifier":"d1e39a5d-fa44-3e89-4cc5-d277b3d3d350","name":"get_all_top_movers","comments":"","position":{"x":168.0,"y":232.0},"type":"org.apache.nifi.processors.standard.ExecuteSQLRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.6.0"},"properties":{"esql-max-rows":"0","esqlrecord-record-writer":"378adbdb-819f-3d8b-a239-dc8f2127a3ec","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"WITH last_date AS (\n    SELECT MAX(price_date) AS d\n    FROM dwh.daily_price_fact\n)\nSELECT\n    ad.asset_type,\n    ad.symbol,\n    ad.name,\n    f.return_1d,\n    f.volume_usd\nFROM dwh.daily_price_fact f\nJOIN dwh.asset_dim ad ON ad.asset_id = f.asset_id\nCROSS JOIN last_date ld\nWHERE f.price_date = ld.d\n  AND ad.asset_type IN ('crypto', 'stock')\n  AND f.return_1d IS NOT NULL\nORDER BY f.return_1d DESC\nLIMIT 20","Database Connection Pooling Service":"4d434277-7f05-3e96-bfce-6640cfe5b049","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"esql-output-batch-size":"0","esql-fetch-size":"0","esqlrecord-normalize":"false"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esqlrecord-record-writer":{"name":"esqlrecord-record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esqlrecord-normalize":{"name":"esqlrecord-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"e5386e4f-037b-3ac5-9346-738ea5052622"},{"identifier":"8f154549-019a-1000-2bb3-59d00c45da98","instanceIdentifier":"5698ef3e-51f3-3c10-3695-2cba44d2e397","name":"cache_all_top_movers","comments":"","position":{"x":1560.0,"y":232.0},"type":"org.apache.nifi.processors.standard.PutDistributedMapCache","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.6.0"},"properties":{"Cache Entry Identifier":"${cache.key}","Cache update strategy":"replace","Distributed Cache Service":"36a69204-c140-31b9-abc3-f2648f58755a","Max cache entry size":"1 MB"},"propertyDescriptors":{"Cache Entry Identifier":{"name":"Cache Entry Identifier","displayName":"Cache Entry Identifier","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Cache update strategy":{"name":"Cache update strategy","displayName":"Cache update strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Distributed Cache Service":{"name":"Distributed Cache Service","displayName":"Distributed Cache Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Max cache entry size":{"name":"Max cache entry size","displayName":"Max cache entry size","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"e5386e4f-037b-3ac5-9346-738ea5052622"},{"identifier":"8f14e79d-019a-1000-8ce7-adb740398de1","instanceIdentifier":"724d0ee0-fd64-3572-43f5-63f1e00f7118","name":"set_all_top_key","comments":"","position":{"x":880.0,"y":232.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.6.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null,"cache.key":"asset:top_movers:all"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"cache.key":{"name":"cache.key","displayName":"cache.key","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"e5386e4f-037b-3ac5-9346-738ea5052622"},{"identifier":"8f132e1f-019a-1000-25ef-0e93f6909276","instanceIdentifier":"dcc82235-da6e-3810-7d96-5d0ec95fd538","name":"set_stock_top_key","comments":"","position":{"x":872.0,"y":-24.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.6.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null,"cache.key":"asset:top_movers:stock"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"cache.key":{"name":"cache.key","displayName":"cache.key","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"e5386e4f-037b-3ac5-9346-738ea5052622"},{"identifier":"8f12bed0-019a-1000-3c3a-5d8ce09ff86e","instanceIdentifier":"dc27756a-2f14-32fb-5d56-ed448e8d7dab","name":"get_stock_top_movers","comments":"","position":{"x":168.0,"y":-16.0},"type":"org.apache.nifi.processors.standard.ExecuteSQLRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.6.0"},"properties":{"esql-max-rows":"0","esqlrecord-record-writer":"378adbdb-819f-3d8b-a239-dc8f2127a3ec","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"WITH last_date AS (\n    SELECT MAX(price_date) AS d\n    FROM dwh.daily_price_fact\n)\nSELECT\n    ad.asset_type,\n    ad.symbol,\n    ad.name,\n    f.return_1d,\n    f.volume_usd\nFROM dwh.daily_price_fact f\nJOIN dwh.asset_dim ad ON ad.asset_id = f.asset_id\nCROSS JOIN last_date ld\nWHERE f.price_date = ld.d\n  AND ad.asset_type = 'stock'\n  AND f.return_1d IS NOT NULL\nORDER BY f.return_1d DESC\nLIMIT 10","Database Connection Pooling Service":"4d434277-7f05-3e96-bfce-6640cfe5b049","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"esql-output-batch-size":"0","esql-fetch-size":"0","esqlrecord-normalize":"false"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esqlrecord-record-writer":{"name":"esqlrecord-record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esqlrecord-normalize":{"name":"esqlrecord-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"e5386e4f-037b-3ac5-9346-738ea5052622"},{"identifier":"8dcb51d3-39a7-3345-ae1e-ac7a3a1a099d","instanceIdentifier":"8f0bb322-019a-1000-69a9-9350194ad8a4","name":"get_crypto_top_movers","comments":"","position":{"x":160.0,"y":-328.0},"type":"org.apache.nifi.processors.standard.ExecuteSQLRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.6.0"},"properties":{"esql-max-rows":"0","esqlrecord-record-writer":"378adbdb-819f-3d8b-a239-dc8f2127a3ec","dbf-default-precision":"10","Max Wait Time":"0 seconds","SQL Query":"WITH last_date AS (\n    SELECT MAX(price_date) AS d\n    FROM dwh.daily_price_fact\n)\nSELECT\n    ad.asset_type,\n    ad.symbol,\n    ad.name,\n    f.return_1d,\n    f.volume_usd\nFROM dwh.daily_price_fact f\nJOIN dwh.asset_dim ad ON ad.asset_id = f.asset_id\nCROSS JOIN last_date ld\nWHERE f.price_date = ld.d\n  AND ad.asset_type = 'crypto'\n  AND f.return_1d IS NOT NULL\nORDER BY f.return_1d DESC\nLIMIT 10","Database Connection Pooling Service":"4d434277-7f05-3e96-bfce-6640cfe5b049","sql-post-query":null,"esql-auto-commit":"true","dbf-user-logical-types":"false","dbf-default-scale":"0","sql-pre-query":null,"esql-output-batch-size":"0","esql-fetch-size":"0","esqlrecord-normalize":"false"},"propertyDescriptors":{"esql-max-rows":{"name":"esql-max-rows","displayName":"Max Rows Per Flow File","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esqlrecord-record-writer":{"name":"esqlrecord-record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SQL Query":{"name":"SQL Query","displayName":"SQL Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection Pooling Service":{"name":"Database Connection Pooling Service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"sql-post-query":{"name":"sql-post-query","displayName":"SQL Post-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-auto-commit":{"name":"esql-auto-commit","displayName":"Set Auto Commit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-user-logical-types":{"name":"dbf-user-logical-types","displayName":"Use Avro Logical Types","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false},"sql-pre-query":{"name":"sql-pre-query","displayName":"SQL Pre-Query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-output-batch-size":{"name":"esql-output-batch-size","displayName":"Output Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esql-fetch-size":{"name":"esql-fetch-size","displayName":"Fetch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"esqlrecord-normalize":{"name":"esqlrecord-normalize","displayName":"Normalize Table/Column Names","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"e5386e4f-037b-3ac5-9346-738ea5052622"},{"identifier":"688e77db-c40e-34d8-b723-3e8e608fed33","instanceIdentifier":"8f1205a4-019a-1000-8b80-48b276b1d72f","name":"cache_crypto_top_movers","comments":"","position":{"x":1536.0,"y":-336.0},"type":"org.apache.nifi.processors.standard.PutDistributedMapCache","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.6.0"},"properties":{"Cache Entry Identifier":"${cache.key}","Cache update strategy":"replace","Distributed Cache Service":"36a69204-c140-31b9-abc3-f2648f58755a","Max cache entry size":"1 MB"},"propertyDescriptors":{"Cache Entry Identifier":{"name":"Cache Entry Identifier","displayName":"Cache Entry Identifier","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Cache update strategy":{"name":"Cache update strategy","displayName":"Cache update strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Distributed Cache Service":{"name":"Distributed Cache Service","displayName":"Distributed Cache Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Max cache entry size":{"name":"Max cache entry size","displayName":"Max cache entry size","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"e5386e4f-037b-3ac5-9346-738ea5052622"},{"identifier":"112a25f8-7a49-3c1e-9500-1cb070f42f96","instanceIdentifier":"8f112a3d-019a-1000-3c71-63cd8bc9b954","name":"set_crypto_top_key","comments":"","position":{"x":856.0,"y":-336.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.6.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","Stateful Variables Initial Value":null,"cache.key":"asset:top_movers:crypto"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"cache.key":{"name":"cache.key","displayName":"cache.key","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"e5386e4f-037b-3ac5-9346-738ea5052622"},{"identifier":"8f1377fb-019a-1000-b38e-65f88d71f572","instanceIdentifier":"f7228b73-0031-38e3-f996-07c75f4227a1","name":"cache_stock_top_movers","comments":"","position":{"x":1552.0,"y":-24.0},"type":"org.apache.nifi.processors.standard.PutDistributedMapCache","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.6.0"},"properties":{"Cache Entry Identifier":"${cache.key}","Cache update strategy":"replace","Distributed Cache Service":"36a69204-c140-31b9-abc3-f2648f58755a","Max cache entry size":"1 MB"},"propertyDescriptors":{"Cache Entry Identifier":{"name":"Cache Entry Identifier","displayName":"Cache Entry Identifier","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Cache update strategy":{"name":"Cache update strategy","displayName":"Cache update strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Distributed Cache Service":{"name":"Distributed Cache Service","displayName":"Distributed Cache Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Max cache entry size":{"name":"Max cache entry size","displayName":"Max cache entry size","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["success","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"e5386e4f-037b-3ac5-9346-738ea5052622"}],"inputPorts":[{"identifier":"ad512b9d-9975-3408-8ede-62a2ea68dc2f","instanceIdentifier":"8f0b03e0-019a-1000-f80b-018a9860ee4f","name":"in_dwh_snapshot_done","position":{"x":-568.0,"y":-24.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"e5386e4f-037b-3ac5-9346-738ea5052622"}],"outputPorts":[],"connections":[{"identifier":"adea6737-af25-3d3f-9746-cd01de8f4f94","instanceIdentifier":"8f13b902-019a-1000-00f7-1254773ae38b","name":"","source":{"id":"8f132e1f-019a-1000-25ef-0e93f6909276","type":"PROCESSOR","groupId":"e5386e4f-037b-3ac5-9346-738ea5052622","name":"set_stock_top_key","comments":"","instanceIdentifier":"dcc82235-da6e-3810-7d96-5d0ec95fd538"},"destination":{"id":"8f1377fb-019a-1000-b38e-65f88d71f572","type":"PROCESSOR","groupId":"e5386e4f-037b-3ac5-9346-738ea5052622","name":"cache_stock_top_movers","comments":"","instanceIdentifier":"f7228b73-0031-38e3-f996-07c75f4227a1"},"labelIndex":0,"zIndex":6,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e5386e4f-037b-3ac5-9346-738ea5052622"},{"identifier":"5d374fb5-a9c3-3841-b583-de7107661f32","instanceIdentifier":"8f148ce1-019a-1000-84b0-6f8d09dd96f1","name":"","source":{"id":"ad512b9d-9975-3408-8ede-62a2ea68dc2f","type":"INPUT_PORT","groupId":"e5386e4f-037b-3ac5-9346-738ea5052622","name":"in_dwh_snapshot_done","instanceIdentifier":"8f0b03e0-019a-1000-f80b-018a9860ee4f"},"destination":{"id":"8f142ad0-019a-1000-d006-0edc3c0e6c4b","type":"PROCESSOR","groupId":"e5386e4f-037b-3ac5-9346-738ea5052622","name":"get_all_top_movers","comments":"","instanceIdentifier":"d1e39a5d-fa44-3e89-4cc5-d277b3d3d350"},"labelIndex":0,"zIndex":7,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e5386e4f-037b-3ac5-9346-738ea5052622"},{"identifier":"7dcffba6-3a41-3fbc-a6c2-353613533c76","instanceIdentifier":"8f15362b-019a-1000-fb39-0309a96357ea","name":"","source":{"id":"8f142ad0-019a-1000-d006-0edc3c0e6c4b","type":"PROCESSOR","groupId":"e5386e4f-037b-3ac5-9346-738ea5052622","name":"get_all_top_movers","comments":"","instanceIdentifier":"d1e39a5d-fa44-3e89-4cc5-d277b3d3d350"},"destination":{"id":"8f14e79d-019a-1000-8ce7-adb740398de1","type":"PROCESSOR","groupId":"e5386e4f-037b-3ac5-9346-738ea5052622","name":"set_all_top_key","comments":"","instanceIdentifier":"724d0ee0-fd64-3572-43f5-63f1e00f7118"},"labelIndex":0,"zIndex":8,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e5386e4f-037b-3ac5-9346-738ea5052622"},{"identifier":"b88afa40-491e-35a2-be6c-568bdafd3e66","instanceIdentifier":"8f11c71a-019a-1000-25e3-de3d4fe1bfeb","name":"","source":{"id":"8dcb51d3-39a7-3345-ae1e-ac7a3a1a099d","type":"PROCESSOR","groupId":"e5386e4f-037b-3ac5-9346-738ea5052622","name":"get_crypto_top_movers","comments":"","instanceIdentifier":"8f0bb322-019a-1000-69a9-9350194ad8a4"},"destination":{"id":"112a25f8-7a49-3c1e-9500-1cb070f42f96","type":"PROCESSOR","groupId":"e5386e4f-037b-3ac5-9346-738ea5052622","name":"set_crypto_top_key","comments":"","instanceIdentifier":"8f112a3d-019a-1000-3c71-63cd8bc9b954"},"labelIndex":0,"zIndex":2,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e5386e4f-037b-3ac5-9346-738ea5052622"},{"identifier":"4539bad7-1cf0-3e60-a173-bd4c6043c019","instanceIdentifier":"8f133ec0-019a-1000-28c8-da2a0afe27cc","name":"","source":{"id":"8f12bed0-019a-1000-3c3a-5d8ce09ff86e","type":"PROCESSOR","groupId":"e5386e4f-037b-3ac5-9346-738ea5052622","name":"get_stock_top_movers","comments":"","instanceIdentifier":"dc27756a-2f14-32fb-5d56-ed448e8d7dab"},"destination":{"id":"8f132e1f-019a-1000-25ef-0e93f6909276","type":"PROCESSOR","groupId":"e5386e4f-037b-3ac5-9346-738ea5052622","name":"set_stock_top_key","comments":"","instanceIdentifier":"dcc82235-da6e-3810-7d96-5d0ec95fd538"},"labelIndex":0,"zIndex":5,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e5386e4f-037b-3ac5-9346-738ea5052622"},{"identifier":"cf1b70d8-9ef1-33e6-86b3-c0f1f49adff0","instanceIdentifier":"8f10fb98-019a-1000-afd2-f374ea286153","name":"","source":{"id":"ad512b9d-9975-3408-8ede-62a2ea68dc2f","type":"INPUT_PORT","groupId":"e5386e4f-037b-3ac5-9346-738ea5052622","name":"in_dwh_snapshot_done","instanceIdentifier":"8f0b03e0-019a-1000-f80b-018a9860ee4f"},"destination":{"id":"8dcb51d3-39a7-3345-ae1e-ac7a3a1a099d","type":"PROCESSOR","groupId":"e5386e4f-037b-3ac5-9346-738ea5052622","name":"get_crypto_top_movers","comments":"","instanceIdentifier":"8f0bb322-019a-1000-69a9-9350194ad8a4"},"labelIndex":0,"zIndex":1,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e5386e4f-037b-3ac5-9346-738ea5052622"},{"identifier":"5e86691f-7445-3533-ab5f-8ba429e093ae","instanceIdentifier":"8f157342-019a-1000-99f1-9c9cdb826ade","name":"","source":{"id":"8f14e79d-019a-1000-8ce7-adb740398de1","type":"PROCESSOR","groupId":"e5386e4f-037b-3ac5-9346-738ea5052622","name":"set_all_top_key","comments":"","instanceIdentifier":"724d0ee0-fd64-3572-43f5-63f1e00f7118"},"destination":{"id":"8f154549-019a-1000-2bb3-59d00c45da98","type":"PROCESSOR","groupId":"e5386e4f-037b-3ac5-9346-738ea5052622","name":"cache_all_top_movers","comments":"","instanceIdentifier":"5698ef3e-51f3-3c10-3695-2cba44d2e397"},"labelIndex":0,"zIndex":9,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e5386e4f-037b-3ac5-9346-738ea5052622"},{"identifier":"11b29815-1bd4-3612-88a2-cd756842edb2","instanceIdentifier":"8f128ff4-019a-1000-573e-cf79f0d1b5f8","name":"","source":{"id":"112a25f8-7a49-3c1e-9500-1cb070f42f96","type":"PROCESSOR","groupId":"e5386e4f-037b-3ac5-9346-738ea5052622","name":"set_crypto_top_key","comments":"","instanceIdentifier":"8f112a3d-019a-1000-3c71-63cd8bc9b954"},"destination":{"id":"688e77db-c40e-34d8-b723-3e8e608fed33","type":"PROCESSOR","groupId":"e5386e4f-037b-3ac5-9346-738ea5052622","name":"cache_crypto_top_movers","comments":"","instanceIdentifier":"8f1205a4-019a-1000-8b80-48b276b1d72f"},"labelIndex":0,"zIndex":3,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e5386e4f-037b-3ac5-9346-738ea5052622"},{"identifier":"3215ca98-a6ec-3a91-a268-68d6b142587e","instanceIdentifier":"8f12cca8-019a-1000-30f9-64c76874fb2c","name":"","source":{"id":"ad512b9d-9975-3408-8ede-62a2ea68dc2f","type":"INPUT_PORT","groupId":"e5386e4f-037b-3ac5-9346-738ea5052622","name":"in_dwh_snapshot_done","instanceIdentifier":"8f0b03e0-019a-1000-f80b-018a9860ee4f"},"destination":{"id":"8f12bed0-019a-1000-3c3a-5d8ce09ff86e","type":"PROCESSOR","groupId":"e5386e4f-037b-3ac5-9346-738ea5052622","name":"get_stock_top_movers","comments":"","instanceIdentifier":"dc27756a-2f14-32fb-5d56-ed448e8d7dab"},"labelIndex":0,"zIndex":4,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e5386e4f-037b-3ac5-9346-738ea5052622"}],"labels":[],"funnels":[],"controllerServices":[],"parameterContextName":"global-etl-context","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e"},{"identifier":"8474bc84-019a-1000-f1b8-e23cd2fc9e2f","instanceIdentifier":"d25ece0e-448a-3b80-b420-5a7ff0c98a11","name":"raw_stock_fetch","comments":"","position":{"x":-496.0,"y":-104.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"8474bc88-019a-1000-c48f-123739b941ff","instanceIdentifier":"59074cc1-3543-391b-5b17-d307cc4103c2","name":"set_s3_info","comments":"","position":{"x":304.0,"y":48.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.6.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","s3_key":"stock/tickers/${now():format('yyyy-MM-dd_HH:mm')}.json","Stateful Variables Initial Value":null,"s3_bucket":"raw"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"s3_key":{"name":"s3_key","displayName":"s3_key","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"s3_bucket":{"name":"s3_bucket","displayName":"s3_bucket","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"8474bc84-019a-1000-f1b8-e23cd2fc9e2f"},{"identifier":"fa5f4afd-2438-391c-a202-02bc023a0f20","instanceIdentifier":"847761ba-019a-1000-a35f-077324190d1b","name":"fetch_stock_tickers","comments":"","position":{"x":304.0,"y":-200.0},"type":"org.apache.nifi.processors.standard.ExecuteProcess","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.6.0"},"properties":{"Command":"/opt/nifi_venv/bin/python","Redirect Error Stream":"false","Working Directory":"/opt/nifi/nifi-current/scripts","Output MIME type":null,"Argument Delimiter":" ","Batch Duration":null,"Command Arguments":"/opt/nifi/nifi-current/scripts/fetch_stocks_yf.py #{stock.topN}"},"propertyDescriptors":{"Command":{"name":"Command","displayName":"Command","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Redirect Error Stream":{"name":"Redirect Error Stream","displayName":"Redirect Error Stream","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Working Directory":{"name":"Working Directory","displayName":"Working Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Output MIME type":{"name":"Output MIME type","displayName":"Output MIME type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Argument Delimiter":{"name":"Argument Delimiter","displayName":"Argument Delimiter","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Batch Duration":{"name":"Batch Duration","displayName":"Batch Duration","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Command Arguments":{"name":"Command Arguments","displayName":"Command Arguments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 0/5 * * * ?","schedulingStrategy":"CRON_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"8474bc84-019a-1000-f1b8-e23cd2fc9e2f"},{"identifier":"8474bc8b-019a-1000-a55c-aadf083330bb","instanceIdentifier":"c222d4c4-3ce7-3644-ffef-bf3ae164d16f","name":"write_stock_tickers_to_s3","comments":"","position":{"x":304.0,"y":304.0},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"2.6.0"},"properties":{"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","proxy-configuration-service":null,"Resource Transfer Source":"FLOWFILE_CONTENT","Cache Control":null,"Endpoint Override URL":"http://minio:9000","File Resource Service":null,"Multipart Upload Max Age Threshold":"7 days","Object Tags Prefix":null,"Signer Override":"Default Signature","Content Type":"application/json","Canned ACL":"${s3.permissions.cannedacl}","Use Path Style Access":"true","Encryption Service":null,"Write ACL User List":"${s3.permissions.writeacl.users}","Use Chunked Encoding":"true","Read ACL User List":"${s3.permissions.readacl.users}","Content Disposition":null,"Storage Class":"Standard","Multipart Part Size":"5 GB","Remove Tag Prefix":"false","Object Key":"${s3_key}","AWS Credentials Provider service":"8474bc85-019a-1000-058e-9948566c86c2","Multipart Threshold":"5 GB","Temporary Directory Multipart State":"${java.io.tmpdir}","Custom Signer Module Location":null,"SSL Context Service":null,"Server Side Encryption":"None","Bucket":"${s3_bucket}","Multipart Upload AgeOff Interval":"60 min","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Region":"us-east-1","Read Permission User List":"${s3.permissions.read.users}","Custom Signer Class Name":null,"Expiration Time Rule":null},"propertyDescriptors":{"FullControl User List":{"name":"FullControl User List","displayName":"FullControl User List","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Owner":{"name":"Owner","displayName":"Owner","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Resource Transfer Source":{"name":"Resource Transfer Source","displayName":"Resource Transfer Source","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Cache Control":{"name":"Cache Control","displayName":"Cache Control","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Endpoint Override URL":{"name":"Endpoint Override URL","displayName":"Endpoint Override URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"File Resource Service":{"name":"File Resource Service","displayName":"File Resource Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Multipart Upload Max Age Threshold":{"name":"Multipart Upload Max Age Threshold","displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Object Tags Prefix":{"name":"Object Tags Prefix","displayName":"Object Tags Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Signer Override":{"name":"Signer Override","displayName":"Signer Override","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Type":{"name":"Content Type","displayName":"Content Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Canned ACL":{"name":"Canned ACL","displayName":"Canned ACL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Use Path Style Access":{"name":"Use Path Style Access","displayName":"Use Path Style Access","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Encryption Service":{"name":"Encryption Service","displayName":"Encryption Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Write ACL User List":{"name":"Write ACL User List","displayName":"Write ACL User List","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Use Chunked Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Read ACL User List":{"name":"Read ACL User List","displayName":"Read ACL User List","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Disposition":{"name":"Content Disposition","displayName":"Content Disposition","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Storage Class":{"name":"Storage Class","displayName":"Storage Class","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Multipart Part Size":{"name":"Multipart Part Size","displayName":"Multipart Part Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Remove Tag Prefix":{"name":"Remove Tag Prefix","displayName":"Remove Tag Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Object Key":{"name":"Object Key","displayName":"Object Key","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AWS Credentials Provider service":{"name":"AWS Credentials Provider service","displayName":"AWS Credentials Provider service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Multipart Threshold":{"name":"Multipart Threshold","displayName":"Multipart Threshold","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Temporary Directory Multipart State":{"name":"Temporary Directory Multipart State","displayName":"Temporary Directory Multipart State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Custom Signer Module Location":{"name":"Custom Signer Module Location","displayName":"Custom Signer Module Location","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Server Side Encryption":{"name":"Server Side Encryption","displayName":"Server Side Encryption","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Bucket":{"name":"Bucket","displayName":"Bucket","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Multipart Upload AgeOff Interval":{"name":"Multipart Upload AgeOff Interval","displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Write Permission User List":{"name":"Write Permission User List","displayName":"Write Permission User List","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Region":{"name":"Region","displayName":"Region","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Read Permission User List":{"name":"Read Permission User List","displayName":"Read Permission User List","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Custom Signer Class Name":{"name":"Custom Signer Class Name","displayName":"Custom Signer Class Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Expiration Time Rule":{"name":"Expiration Time Rule","displayName":"Expiration Time Rule","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"8474bc84-019a-1000-f1b8-e23cd2fc9e2f"}],"inputPorts":[],"outputPorts":[{"identifier":"8474bc8c-019a-1000-26ad-a3c85161d777","instanceIdentifier":"7002d5a6-f899-3b85-3be2-3bfb5096897e","name":"out_raw_stock","position":{"x":360.0,"y":536.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"8474bc84-019a-1000-f1b8-e23cd2fc9e2f"}],"connections":[{"identifier":"395a4cbd-3769-3015-b7e2-bb8a2eaf7438","instanceIdentifier":"8479f739-019a-1000-0e67-bfbf4c677d6f","name":"fetched_tickers","source":{"id":"fa5f4afd-2438-391c-a202-02bc023a0f20","type":"PROCESSOR","groupId":"8474bc84-019a-1000-f1b8-e23cd2fc9e2f","name":"fetch_stock_tickers","comments":"","instanceIdentifier":"847761ba-019a-1000-a35f-077324190d1b"},"destination":{"id":"8474bc88-019a-1000-c48f-123739b941ff","type":"PROCESSOR","groupId":"8474bc84-019a-1000-f1b8-e23cd2fc9e2f","name":"set_s3_info","comments":"","instanceIdentifier":"59074cc1-3543-391b-5b17-d307cc4103c2"},"labelIndex":0,"zIndex":9,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8474bc84-019a-1000-f1b8-e23cd2fc9e2f"},{"identifier":"8474bc93-019a-1000-c1fa-46ec34e390cc","instanceIdentifier":"7e6f92cc-2d2e-35c0-dd33-affa8cfdeaff","name":"ready_for_s3_upload","source":{"id":"8474bc88-019a-1000-c48f-123739b941ff","type":"PROCESSOR","groupId":"8474bc84-019a-1000-f1b8-e23cd2fc9e2f","name":"set_s3_info","comments":"","instanceIdentifier":"59074cc1-3543-391b-5b17-d307cc4103c2"},"destination":{"id":"8474bc8b-019a-1000-a55c-aadf083330bb","type":"PROCESSOR","groupId":"8474bc84-019a-1000-f1b8-e23cd2fc9e2f","name":"write_stock_tickers_to_s3","comments":"","instanceIdentifier":"c222d4c4-3ce7-3644-ffef-bf3ae164d16f"},"labelIndex":0,"zIndex":7,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8474bc84-019a-1000-f1b8-e23cd2fc9e2f"},{"identifier":"8474bc91-019a-1000-657c-cb84e409f54e","instanceIdentifier":"b8a50b50-fb72-34a9-1590-1c3b49ad164c","name":"s3_upload_success","source":{"id":"8474bc8b-019a-1000-a55c-aadf083330bb","type":"PROCESSOR","groupId":"8474bc84-019a-1000-f1b8-e23cd2fc9e2f","name":"write_stock_tickers_to_s3","comments":"","instanceIdentifier":"c222d4c4-3ce7-3644-ffef-bf3ae164d16f"},"destination":{"id":"8474bc8c-019a-1000-26ad-a3c85161d777","type":"OUTPUT_PORT","groupId":"8474bc84-019a-1000-f1b8-e23cd2fc9e2f","name":"out_raw_stock","instanceIdentifier":"7002d5a6-f899-3b85-3be2-3bfb5096897e"},"labelIndex":0,"zIndex":8,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8474bc84-019a-1000-f1b8-e23cd2fc9e2f"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"8474bc85-019a-1000-058e-9948566c86c2","instanceIdentifier":"ee737a49-99a7-35f4-d39a-5bc023d71475","name":"AWSCredentialsProviderControllerService","comments":"","type":"org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderControllerService","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"2.6.0"},"properties":{"Assume Role STS Region":"us-west-2","Assume Role Proxy Configuration Service":null,"Assume Role ARN":null,"Assume Role Session Time":"3600","Assume Role Session Name":null,"Custom Signer Module Location":null,"Use Default Credentials":"false","Assume Role External ID":null,"Assume Role STS Endpoint Override":null,"Profile Name":null,"Credentials File":null,"Custom Signer Class Name":null,"Assume Role STS Signer Override":"Default Signature","Use Anonymous Credentials":"true","Assume Role SSL Context Service":null},"propertyDescriptors":{"Assume Role STS Region":{"name":"Assume Role STS Region","displayName":"Assume Role STS Region","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role Proxy Configuration Service":{"name":"Assume Role Proxy Configuration Service","displayName":"Assume Role Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Access Key ID":{"name":"Access Key ID","displayName":"Access Key ID","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Assume Role ARN":{"name":"Assume Role ARN","displayName":"Assume Role ARN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role Session Time":{"name":"Assume Role Session Time","displayName":"Assume Role Session Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role Session Name":{"name":"Assume Role Session Name","displayName":"Assume Role Session Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Custom Signer Module Location":{"name":"Custom Signer Module Location","displayName":"Custom Signer Module Location","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}},"Use Default Credentials":{"name":"Use Default Credentials","displayName":"Use Default Credentials","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role External ID":{"name":"Assume Role External ID","displayName":"Assume Role External ID","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role STS Endpoint Override":{"name":"Assume Role STS Endpoint Override","displayName":"Assume Role STS Endpoint Override","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Profile Name":{"name":"Profile Name","displayName":"Profile Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Credentials File":{"name":"Credentials File","displayName":"Credentials File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Custom Signer Class Name":{"name":"Custom Signer Class Name","displayName":"Custom Signer Class Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role STS Signer Override":{"name":"Assume Role STS Signer Override","displayName":"Assume Role STS Signer Override","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Use Anonymous Credentials":{"name":"Use Anonymous Credentials","displayName":"Use Anonymous Credentials","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Secret Access Key":{"name":"Secret Access Key","displayName":"Secret Access Key","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Assume Role SSL Context Service":{"name":"Assume Role SSL Context Service","displayName":"Assume Role SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderService","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-service-api-nar","version":"2.6.0"}},{"type":"org.apache.nifi.processors.aws.credentials.provider.AwsCredentialsProviderService","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-service-api-nar","version":"2.6.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"8474bc84-019a-1000-f1b8-e23cd2fc9e2f"}],"parameterContextName":"global-etl-context","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e"},{"identifier":"75b4e6e5-d748-3005-854b-0ed1adf72c05","instanceIdentifier":"7f739295-019a-1000-89c5-96236f484acb","name":"stage_crypto_tickers","comments":"","position":{"x":200.0,"y":-328.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"96ae9dd9-a1e1-38df-9187-bbfea47a0573","instanceIdentifier":"7f90177b-019a-1000-1441-4d9546561e86","name":"fetch_raw_ticker","comments":"","position":{"x":616.0,"y":-200.0},"type":"org.apache.nifi.processors.aws.s3.FetchS3Object","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"2.6.0"},"properties":{"proxy-configuration-service":null,"Endpoint Override URL":"http://minio:9000","Object Key":"${s3_key}","AWS Credentials Provider service":"0a6d98a7-e710-36fd-8e9a-a44e916c1fdb","Custom Signer Module Location":null,"Range Start":null,"SSL Context Service":null,"Signer Override":"Default Signature","Bucket":"${s3_bucket}","Version":null,"Communications Timeout":"30 secs","Region":"us-east-1","Custom Signer Class Name":null,"Encryption Service":null,"Requester Pays":"false","Range Length":null},"propertyDescriptors":{"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Endpoint Override URL":{"name":"Endpoint Override URL","displayName":"Endpoint Override URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Object Key":{"name":"Object Key","displayName":"Object Key","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AWS Credentials Provider service":{"name":"AWS Credentials Provider service","displayName":"AWS Credentials Provider service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Custom Signer Module Location":{"name":"Custom Signer Module Location","displayName":"Custom Signer Module Location","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}},"Range Start":{"name":"Range Start","displayName":"Range Start","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Signer Override":{"name":"Signer Override","displayName":"Signer Override","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Bucket":{"name":"Bucket","displayName":"Bucket","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Version":{"name":"Version","displayName":"Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Region":{"name":"Region","displayName":"Region","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Custom Signer Class Name":{"name":"Custom Signer Class Name","displayName":"Custom Signer Class Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Encryption Service":{"name":"Encryption Service","displayName":"Encryption Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Requester Pays":{"name":"Requester Pays","displayName":"Requester Pays","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Range Length":{"name":"Range Length","displayName":"Range Length","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"75b4e6e5-d748-3005-854b-0ed1adf72c05"},{"identifier":"d5526695-6220-35c3-8aa7-e42c9492a0fb","instanceIdentifier":"84e5c4f2-019a-1000-8a65-f38bbab23957","name":"flatten_crypto_records","comments":"","position":{"x":-784.0,"y":64.0},"type":"org.apache.nifi.processors.jolt.JoltTransformRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-jolt-nar","version":"2.6.0"},"properties":{"jolt-record-record-writer":"378adbdb-819f-3d8b-a239-dc8f2127a3ec","Jolt Transform":"jolt-transform-chain","Transform Cache Size":"1","Custom Transformation Class Name":null,"Custom Module Directory":null,"Jolt Specification":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"id\": \"id\",\n      \"symbol\": \"symbol\",\n      \"name\": \"name\",\n      \"rank\": \"rank\",\n      \"quotes\": {\n        \"USD\": {\n          \"price\": \"price_usd\",\n          \"volume_24h\": \"volume_24h_usd\",\n          \"market_cap\": \"market_cap_usd\",\n          \"percent_change_24h\": \"percent_change_24h\"\n        }\n      }\n    }\n  }\n]","jolt-record-record-reader":"18b69042-8c4d-36b5-b988-b5e741b503f8"},"propertyDescriptors":{"jolt-record-record-writer":{"name":"jolt-record-record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Jolt Transform":{"name":"Jolt Transform","displayName":"Jolt Transform","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Custom Transformation Class Name":{"name":"Custom Transformation Class Name","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Custom Module Directory":{"name":"Custom Module Directory","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}},"Jolt Specification":{"name":"Jolt Specification","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE","TEXT"]}},"jolt-record-record-reader":{"name":"jolt-record-record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"75b4e6e5-d748-3005-854b-0ed1adf72c05"},{"identifier":"48dd28f5-cb0d-3406-8616-4785a7da7f8b","instanceIdentifier":"84e74f44-019a-1000-1af3-7515d1e6f751","name":"insert_crypto_ticker_stage_batch","comments":"","position":{"x":-792.0,"y":376.0},"type":"org.apache.nifi.processors.standard.PutDatabaseRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.6.0"},"properties":{"put-db-record-allow-multiple-statements":"false","put-db-record-schema-name":"stage","put-db-record-field-containing-sql":null,"put-db-record-unmatched-column-behavior":"Fail on Unmatched Columns","Delete Keys":null,"put-db-record-catalog-name":null,"put-db-record-statement-type":"INSERT","put-db-record-update-keys":null,"put-db-record-quoted-identifiers":"false","put-db-record-unmatched-field-behavior":"Ignore Unmatched Fields","put-db-record-max-batch-size":"1000","Database Dialect Service":null,"Data Record Path":null,"database-session-autocommit":"false","table-schema-cache-size":"100","put-db-record-quoted-table-identifiers":"false","Statement Type Record Path":null,"Column Name Translation Pattern":null,"put-db-record-translate-field-names":"false","put-db-record-dcbp-service":"4d434277-7f05-3e96-bfce-6640cfe5b049","put-db-record-query-timeout":"0 seconds","Column Name Translation Strategy":"REMOVE_UNDERSCORE","rollback-on-failure":"true","put-db-record-binary-format":"UTF-8","db-type":"PostgreSQL","put-db-record-table-name":"crypto_tickers","put-db-record-record-reader":"18b69042-8c4d-36b5-b988-b5e741b503f8"},"propertyDescriptors":{"put-db-record-allow-multiple-statements":{"name":"put-db-record-allow-multiple-statements","displayName":"Allow Multiple SQL Statements","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-schema-name":{"name":"put-db-record-schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-field-containing-sql":{"name":"put-db-record-field-containing-sql","displayName":"Field Containing SQL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-unmatched-column-behavior":{"name":"put-db-record-unmatched-column-behavior","displayName":"Unmatched Column Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Delete Keys":{"name":"Delete Keys","displayName":"Delete Keys","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-catalog-name":{"name":"put-db-record-catalog-name","displayName":"Database Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-statement-type":{"name":"put-db-record-statement-type","displayName":"Statement Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-update-keys":{"name":"put-db-record-update-keys","displayName":"Update Keys","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-quoted-identifiers":{"name":"put-db-record-quoted-identifiers","displayName":"Quote Column Identifiers","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-unmatched-field-behavior":{"name":"put-db-record-unmatched-field-behavior","displayName":"Unmatched Field Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-max-batch-size":{"name":"put-db-record-max-batch-size","displayName":"Maximum Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Dialect Service":{"name":"Database Dialect Service","displayName":"Database Dialect Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Data Record Path":{"name":"Data Record Path","displayName":"Data Record Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"table-schema-cache-size":{"name":"table-schema-cache-size","displayName":"Table Schema Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-quoted-table-identifiers":{"name":"put-db-record-quoted-table-identifiers","displayName":"Quote Table Identifiers","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Statement Type Record Path":{"name":"Statement Type Record Path","displayName":"Statement Type Record Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Column Name Translation Pattern":{"name":"Column Name Translation Pattern","displayName":"Column Name Translation Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-translate-field-names":{"name":"put-db-record-translate-field-names","displayName":"Translate Field Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-dcbp-service":{"name":"put-db-record-dcbp-service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"put-db-record-query-timeout":{"name":"put-db-record-query-timeout","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Column Name Translation Strategy":{"name":"Column Name Translation Strategy","displayName":"Column Name Translation Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-binary-format":{"name":"put-db-record-binary-format","displayName":"Binary String Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"db-type":{"name":"db-type","displayName":"Database Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-table-name":{"name":"put-db-record-table-name","displayName":"Table Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-record-reader":{"name":"put-db-record-record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","retry"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"75b4e6e5-d748-3005-854b-0ed1adf72c05"},{"identifier":"1fd9571b-472d-367b-a071-bfef9168d332","instanceIdentifier":"8e5b88da-019a-1000-edea-923ffe0cab90","name":"set_crypto_fragment_attrs","comments":"","position":{"x":-120.0,"y":384.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.6.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","fragment.identifier":"${batch_id}","fragment.index":"0","fragment.count":"2","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"fragment.identifier":{"name":"fragment.identifier","displayName":"fragment.identifier","identifiesControllerService":false,"sensitive":false,"dynamic":true},"fragment.index":{"name":"fragment.index","displayName":"fragment.index","identifiesControllerService":false,"sensitive":false,"dynamic":true},"fragment.count":{"name":"fragment.count","displayName":"fragment.count","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"75b4e6e5-d748-3005-854b-0ed1adf72c05"},{"identifier":"6967d192-229b-373e-ae3a-54c96c47b0a6","instanceIdentifier":"84e20cfb-019a-1000-492b-80846047c089","name":"filter_topN_crypto","comments":"","position":{"x":-64.0,"y":72.0},"type":"org.apache.nifi.processors.standard.QueryRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.6.0"},"properties":{"topNSelected":"SELECT * FROM FLOWFILE WHERE CAST(\"rank\" AS INTEGER) <= #{crypto.topN}","dbf-default-precision":"10","record-writer":"378adbdb-819f-3d8b-a239-dc8f2127a3ec","record-reader":"18b69042-8c4d-36b5-b988-b5e741b503f8","include-zero-record-flowfiles":"true","dbf-default-scale":"0"},"propertyDescriptors":{"topNSelected":{"name":"topNSelected","displayName":"topNSelected","identifiesControllerService":false,"sensitive":false,"dynamic":true},"dbf-default-precision":{"name":"dbf-default-precision","displayName":"Default Decimal Precision","identifiesControllerService":false,"sensitive":false,"dynamic":false},"record-writer":{"name":"record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"record-reader":{"name":"record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"include-zero-record-flowfiles":{"name":"include-zero-record-flowfiles","displayName":"Include Zero Record FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbf-default-scale":{"name":"dbf-default-scale","displayName":"Default Decimal Scale","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"75b4e6e5-d748-3005-854b-0ed1adf72c05"},{"identifier":"9f441582-c295-3776-8c15-3ff1c68d71c1","instanceIdentifier":"84acd293-019a-1000-c7dd-2ec06404ca43","name":"set_batch_id_crypto","comments":"","position":{"x":616.0,"y":72.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.6.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","batch_id":"${now():format('yyyyMMddHHmm')}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"batch_id":{"name":"batch_id","displayName":"batch_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"75b4e6e5-d748-3005-854b-0ed1adf72c05"}],"inputPorts":[{"identifier":"f94faa8d-e088-3f96-950c-02293e019143","instanceIdentifier":"840834f7-019a-1000-21c3-217019085549","name":"in_raw_crypto_file","position":{"x":-8.0,"y":-160.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"75b4e6e5-d748-3005-854b-0ed1adf72c05"}],"outputPorts":[{"identifier":"86db6eb1-048c-3c88-a617-cd7c48e4bb10","instanceIdentifier":"84b20b31-019a-1000-d1e6-df3d5666de9a","name":"out_stage_crypto_done","position":{"x":680.0,"y":424.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"75b4e6e5-d748-3005-854b-0ed1adf72c05"},{"identifier":"91b2aeae-6afb-3891-b4d3-5ae261734e28","instanceIdentifier":"8e8729c2-019a-1000-99f2-4adc1d7485c4","name":"out_crypto_topN_for_cache","position":{"x":-1352.0,"y":96.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"75b4e6e5-d748-3005-854b-0ed1adf72c05"}],"connections":[{"identifier":"f7d9f7db-dd63-3cbe-a91a-a4734eaa9450","instanceIdentifier":"84e927ef-019a-1000-54e9-56d943edb17a","name":"transformation_successful","source":{"id":"d5526695-6220-35c3-8aa7-e42c9492a0fb","type":"PROCESSOR","groupId":"75b4e6e5-d748-3005-854b-0ed1adf72c05","name":"flatten_crypto_records","comments":"","instanceIdentifier":"84e5c4f2-019a-1000-8a65-f38bbab23957"},"destination":{"id":"48dd28f5-cb0d-3406-8616-4785a7da7f8b","type":"PROCESSOR","groupId":"75b4e6e5-d748-3005-854b-0ed1adf72c05","name":"insert_crypto_ticker_stage_batch","comments":"","instanceIdentifier":"84e74f44-019a-1000-1af3-7515d1e6f751"},"labelIndex":0,"zIndex":16,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"75b4e6e5-d748-3005-854b-0ed1adf72c05"},{"identifier":"0a88f3f7-3a08-3940-a2d7-315db0b43d38","instanceIdentifier":"8e5ca72d-019a-1000-5754-c1e4673ee732","name":"records_inserted","source":{"id":"48dd28f5-cb0d-3406-8616-4785a7da7f8b","type":"PROCESSOR","groupId":"75b4e6e5-d748-3005-854b-0ed1adf72c05","name":"insert_crypto_ticker_stage_batch","comments":"","instanceIdentifier":"84e74f44-019a-1000-1af3-7515d1e6f751"},"destination":{"id":"1fd9571b-472d-367b-a071-bfef9168d332","type":"PROCESSOR","groupId":"75b4e6e5-d748-3005-854b-0ed1adf72c05","name":"set_crypto_fragment_attrs","comments":"","instanceIdentifier":"8e5b88da-019a-1000-edea-923ffe0cab90"},"labelIndex":0,"zIndex":17,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"75b4e6e5-d748-3005-854b-0ed1adf72c05"},{"identifier":"264c475c-8014-3b5e-a1d7-14661c1929ba","instanceIdentifier":"84e172dc-019a-1000-cd75-d674502a9734","name":"set_batch_id","source":{"id":"96ae9dd9-a1e1-38df-9187-bbfea47a0573","type":"PROCESSOR","groupId":"75b4e6e5-d748-3005-854b-0ed1adf72c05","name":"fetch_raw_ticker","comments":"","instanceIdentifier":"7f90177b-019a-1000-1441-4d9546561e86"},"destination":{"id":"9f441582-c295-3776-8c15-3ff1c68d71c1","type":"PROCESSOR","groupId":"75b4e6e5-d748-3005-854b-0ed1adf72c05","name":"set_batch_id_crypto","comments":"","instanceIdentifier":"84acd293-019a-1000-c7dd-2ec06404ca43"},"labelIndex":0,"zIndex":13,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"75b4e6e5-d748-3005-854b-0ed1adf72c05"},{"identifier":"dc8dcdc4-aa81-3dfc-983f-932885561190","instanceIdentifier":"84e6f54f-019a-1000-bd2d-a21243921d62","name":"","source":{"id":"6967d192-229b-373e-ae3a-54c96c47b0a6","type":"PROCESSOR","groupId":"75b4e6e5-d748-3005-854b-0ed1adf72c05","name":"filter_topN_crypto","comments":"","instanceIdentifier":"84e20cfb-019a-1000-492b-80846047c089"},"destination":{"id":"d5526695-6220-35c3-8aa7-e42c9492a0fb","type":"PROCESSOR","groupId":"75b4e6e5-d748-3005-854b-0ed1adf72c05","name":"flatten_crypto_records","comments":"","instanceIdentifier":"84e5c4f2-019a-1000-8a65-f38bbab23957"},"labelIndex":0,"zIndex":15,"selectedRelationships":["topNSelected"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"75b4e6e5-d748-3005-854b-0ed1adf72c05"},{"identifier":"ea716f1f-2fb7-3b34-96fa-8d1d30aea21a","instanceIdentifier":"840a1bb4-019a-1000-dd49-ebf26821b16c","name":"incoming_raw_crypto_file","source":{"id":"f94faa8d-e088-3f96-950c-02293e019143","type":"INPUT_PORT","groupId":"75b4e6e5-d748-3005-854b-0ed1adf72c05","name":"in_raw_crypto_file","instanceIdentifier":"840834f7-019a-1000-21c3-217019085549"},"destination":{"id":"96ae9dd9-a1e1-38df-9187-bbfea47a0573","type":"PROCESSOR","groupId":"75b4e6e5-d748-3005-854b-0ed1adf72c05","name":"fetch_raw_ticker","comments":"","instanceIdentifier":"7f90177b-019a-1000-1441-4d9546561e86"},"labelIndex":0,"zIndex":9,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"75b4e6e5-d748-3005-854b-0ed1adf72c05"},{"identifier":"6141f851-7e78-3d89-bdfa-6365aea45e98","instanceIdentifier":"8e5cb812-019a-1000-57aa-f4f2350f93d2","name":"merge_ready","source":{"id":"1fd9571b-472d-367b-a071-bfef9168d332","type":"PROCESSOR","groupId":"75b4e6e5-d748-3005-854b-0ed1adf72c05","name":"set_crypto_fragment_attrs","comments":"","instanceIdentifier":"8e5b88da-019a-1000-edea-923ffe0cab90"},"destination":{"id":"86db6eb1-048c-3c88-a617-cd7c48e4bb10","type":"OUTPUT_PORT","groupId":"75b4e6e5-d748-3005-854b-0ed1adf72c05","name":"out_stage_crypto_done","instanceIdentifier":"84b20b31-019a-1000-d1e6-df3d5666de9a"},"labelIndex":0,"zIndex":18,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"75b4e6e5-d748-3005-854b-0ed1adf72c05"},{"identifier":"f58e3424-ecc3-3327-b0d8-21d288e6de1a","instanceIdentifier":"8e875752-019a-1000-9f3a-3a8ed5685c95","name":"to_cache_topN_crypto","source":{"id":"d5526695-6220-35c3-8aa7-e42c9492a0fb","type":"PROCESSOR","groupId":"75b4e6e5-d748-3005-854b-0ed1adf72c05","name":"flatten_crypto_records","comments":"","instanceIdentifier":"84e5c4f2-019a-1000-8a65-f38bbab23957"},"destination":{"id":"91b2aeae-6afb-3891-b4d3-5ae261734e28","type":"OUTPUT_PORT","groupId":"75b4e6e5-d748-3005-854b-0ed1adf72c05","name":"out_crypto_topN_for_cache","instanceIdentifier":"8e8729c2-019a-1000-99f2-4adc1d7485c4"},"labelIndex":0,"zIndex":19,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"75b4e6e5-d748-3005-854b-0ed1adf72c05"},{"identifier":"286d5622-9d8f-3181-baa7-ef8cf92fe2aa","instanceIdentifier":"84e423e7-019a-1000-6c0e-9f73df5aaa03","name":"filter_topN","source":{"id":"9f441582-c295-3776-8c15-3ff1c68d71c1","type":"PROCESSOR","groupId":"75b4e6e5-d748-3005-854b-0ed1adf72c05","name":"set_batch_id_crypto","comments":"","instanceIdentifier":"84acd293-019a-1000-c7dd-2ec06404ca43"},"destination":{"id":"6967d192-229b-373e-ae3a-54c96c47b0a6","type":"PROCESSOR","groupId":"75b4e6e5-d748-3005-854b-0ed1adf72c05","name":"filter_topN_crypto","comments":"","instanceIdentifier":"84e20cfb-019a-1000-492b-80846047c089"},"labelIndex":0,"zIndex":14,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"75b4e6e5-d748-3005-854b-0ed1adf72c05"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"0a6d98a7-e710-36fd-8e9a-a44e916c1fdb","instanceIdentifier":"77dcec38-f30d-3dc4-ae6d-6c20a621ef2c","name":"AWSCredentialsProviderControllerService","comments":"","type":"org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderControllerService","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"2.6.0"},"properties":{"Assume Role STS Region":"us-west-2","Assume Role Proxy Configuration Service":null,"Assume Role ARN":null,"Assume Role Session Time":"3600","Assume Role Session Name":null,"Custom Signer Module Location":null,"Use Default Credentials":"false","Assume Role External ID":null,"Assume Role STS Endpoint Override":null,"Profile Name":null,"Credentials File":null,"Custom Signer Class Name":null,"Assume Role STS Signer Override":"Default Signature","Use Anonymous Credentials":"true","Assume Role SSL Context Service":null},"propertyDescriptors":{"Assume Role STS Region":{"name":"Assume Role STS Region","displayName":"Assume Role STS Region","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role Proxy Configuration Service":{"name":"Assume Role Proxy Configuration Service","displayName":"Assume Role Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Access Key ID":{"name":"Access Key ID","displayName":"Access Key ID","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Assume Role ARN":{"name":"Assume Role ARN","displayName":"Assume Role ARN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role Session Time":{"name":"Assume Role Session Time","displayName":"Assume Role Session Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role Session Name":{"name":"Assume Role Session Name","displayName":"Assume Role Session Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Custom Signer Module Location":{"name":"Custom Signer Module Location","displayName":"Custom Signer Module Location","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}},"Use Default Credentials":{"name":"Use Default Credentials","displayName":"Use Default Credentials","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role External ID":{"name":"Assume Role External ID","displayName":"Assume Role External ID","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role STS Endpoint Override":{"name":"Assume Role STS Endpoint Override","displayName":"Assume Role STS Endpoint Override","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Profile Name":{"name":"Profile Name","displayName":"Profile Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Credentials File":{"name":"Credentials File","displayName":"Credentials File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Custom Signer Class Name":{"name":"Custom Signer Class Name","displayName":"Custom Signer Class Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role STS Signer Override":{"name":"Assume Role STS Signer Override","displayName":"Assume Role STS Signer Override","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Use Anonymous Credentials":{"name":"Use Anonymous Credentials","displayName":"Use Anonymous Credentials","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Secret Access Key":{"name":"Secret Access Key","displayName":"Secret Access Key","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Assume Role SSL Context Service":{"name":"Assume Role SSL Context Service","displayName":"Assume Role SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderService","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-service-api-nar","version":"2.6.0"}},{"type":"org.apache.nifi.processors.aws.credentials.provider.AwsCredentialsProviderService","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-service-api-nar","version":"2.6.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"75b4e6e5-d748-3005-854b-0ed1adf72c05"}],"parameterContextName":"global-etl-context","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e"},{"identifier":"8480cffe-019a-1000-df6d-04a4bbab220e","instanceIdentifier":"4dd3f024-a03d-3b43-10c9-e21b42b53fad","name":"stage_stock_tickers","comments":"","position":{"x":200.0,"y":-96.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"4d1fb6b2-3134-3559-88af-9ceff562dc60","instanceIdentifier":"84b3ce4f-019a-1000-b4ae-b1f2503b8cbf","name":"set_batch_id_stock","comments":"","position":{"x":624.0,"y":48.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.6.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","batch_id":"${now():format('yyyyMMddHHmm')}","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"batch_id":{"name":"batch_id","displayName":"batch_id","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"8480cffe-019a-1000-df6d-04a4bbab220e"},{"identifier":"441b2a50-5048-35ae-8401-8b5426ca9907","instanceIdentifier":"84fbc73d-019a-1000-7e0f-26db93c6d800","name":"insert_stock_ohlcv_stage_batch","comments":"","position":{"x":-40.0,"y":352.0},"type":"org.apache.nifi.processors.standard.PutDatabaseRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.6.0"},"properties":{"put-db-record-allow-multiple-statements":"false","put-db-record-schema-name":"stage","put-db-record-field-containing-sql":null,"put-db-record-unmatched-column-behavior":"Fail on Unmatched Columns","Delete Keys":null,"put-db-record-catalog-name":null,"put-db-record-statement-type":"INSERT","put-db-record-update-keys":null,"put-db-record-quoted-identifiers":"false","put-db-record-unmatched-field-behavior":"Ignore Unmatched Fields","put-db-record-max-batch-size":"1000","Database Dialect Service":null,"Data Record Path":null,"database-session-autocommit":"false","table-schema-cache-size":"100","put-db-record-quoted-table-identifiers":"false","Statement Type Record Path":null,"Column Name Translation Pattern":null,"put-db-record-translate-field-names":"false","put-db-record-dcbp-service":"4d434277-7f05-3e96-bfce-6640cfe5b049","put-db-record-query-timeout":"0 seconds","Column Name Translation Strategy":"REMOVE_UNDERSCORE","rollback-on-failure":"true","put-db-record-binary-format":"UTF-8","db-type":"PostgreSQL","put-db-record-table-name":"stock_ohlcv","put-db-record-record-reader":"18b69042-8c4d-36b5-b988-b5e741b503f8"},"propertyDescriptors":{"put-db-record-allow-multiple-statements":{"name":"put-db-record-allow-multiple-statements","displayName":"Allow Multiple SQL Statements","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-schema-name":{"name":"put-db-record-schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-field-containing-sql":{"name":"put-db-record-field-containing-sql","displayName":"Field Containing SQL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-unmatched-column-behavior":{"name":"put-db-record-unmatched-column-behavior","displayName":"Unmatched Column Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Delete Keys":{"name":"Delete Keys","displayName":"Delete Keys","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-catalog-name":{"name":"put-db-record-catalog-name","displayName":"Database Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-statement-type":{"name":"put-db-record-statement-type","displayName":"Statement Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-update-keys":{"name":"put-db-record-update-keys","displayName":"Update Keys","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-quoted-identifiers":{"name":"put-db-record-quoted-identifiers","displayName":"Quote Column Identifiers","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-unmatched-field-behavior":{"name":"put-db-record-unmatched-field-behavior","displayName":"Unmatched Field Behavior","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-max-batch-size":{"name":"put-db-record-max-batch-size","displayName":"Maximum Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Dialect Service":{"name":"Database Dialect Service","displayName":"Database Dialect Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Data Record Path":{"name":"Data Record Path","displayName":"Data Record Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"table-schema-cache-size":{"name":"table-schema-cache-size","displayName":"Table Schema Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-quoted-table-identifiers":{"name":"put-db-record-quoted-table-identifiers","displayName":"Quote Table Identifiers","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Statement Type Record Path":{"name":"Statement Type Record Path","displayName":"Statement Type Record Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Column Name Translation Pattern":{"name":"Column Name Translation Pattern","displayName":"Column Name Translation Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-translate-field-names":{"name":"put-db-record-translate-field-names","displayName":"Translate Field Names","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-dcbp-service":{"name":"put-db-record-dcbp-service","displayName":"Database Connection Pooling Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"put-db-record-query-timeout":{"name":"put-db-record-query-timeout","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Column Name Translation Strategy":{"name":"Column Name Translation Strategy","displayName":"Column Name Translation Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-binary-format":{"name":"put-db-record-binary-format","displayName":"Binary String Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"db-type":{"name":"db-type","displayName":"Database Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-table-name":{"name":"put-db-record-table-name","displayName":"Table Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"put-db-record-record-reader":{"name":"put-db-record-record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","retry"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"8480cffe-019a-1000-df6d-04a4bbab220e"},{"identifier":"8480d000-019a-1000-6edc-f13cf95fac2d","instanceIdentifier":"ea026ce9-a708-3af2-9470-2cfbdf907321","name":"fetch_raw_ticker","comments":"","position":{"x":616.0,"y":-200.0},"type":"org.apache.nifi.processors.aws.s3.FetchS3Object","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"2.6.0"},"properties":{"proxy-configuration-service":null,"Endpoint Override URL":"http://minio:9000","Object Key":"${s3_key}","AWS Credentials Provider service":"8480cfff-019a-1000-69d1-faddde31cc73","Custom Signer Module Location":null,"Range Start":null,"SSL Context Service":null,"Signer Override":"Default Signature","Bucket":"${s3_bucket}","Version":null,"Communications Timeout":"30 secs","Region":"us-east-1","Custom Signer Class Name":null,"Encryption Service":null,"Requester Pays":"false","Range Length":null},"propertyDescriptors":{"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Endpoint Override URL":{"name":"Endpoint Override URL","displayName":"Endpoint Override URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Object Key":{"name":"Object Key","displayName":"Object Key","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AWS Credentials Provider service":{"name":"AWS Credentials Provider service","displayName":"AWS Credentials Provider service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Custom Signer Module Location":{"name":"Custom Signer Module Location","displayName":"Custom Signer Module Location","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}},"Range Start":{"name":"Range Start","displayName":"Range Start","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Signer Override":{"name":"Signer Override","displayName":"Signer Override","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Bucket":{"name":"Bucket","displayName":"Bucket","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Version":{"name":"Version","displayName":"Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Region":{"name":"Region","displayName":"Region","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Custom Signer Class Name":{"name":"Custom Signer Class Name","displayName":"Custom Signer Class Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Encryption Service":{"name":"Encryption Service","displayName":"Encryption Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Requester Pays":{"name":"Requester Pays","displayName":"Requester Pays","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Range Length":{"name":"Range Length","displayName":"Range Length","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"8480cffe-019a-1000-df6d-04a4bbab220e"},{"identifier":"3d866d26-e6c8-37b3-88ea-06d97f90d702","instanceIdentifier":"8e5d5430-019a-1000-db5f-6ecb5ea9807b","name":"set_stock_fragment_attrs","comments":"","position":{"x":616.0,"y":344.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.6.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","fragment.identifier":"${batch_id}","fragment.index":"1","fragment.count":"2","Stateful Variables Initial Value":null},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"fragment.identifier":{"name":"fragment.identifier","displayName":"fragment.identifier","identifiesControllerService":false,"sensitive":false,"dynamic":true},"fragment.index":{"name":"fragment.index","displayName":"fragment.index","identifiesControllerService":false,"sensitive":false,"dynamic":true},"fragment.count":{"name":"fragment.count","displayName":"fragment.count","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"8480cffe-019a-1000-df6d-04a4bbab220e"},{"identifier":"4defe01a-6d7d-36aa-9423-17fa16c364a6","instanceIdentifier":"84fa911a-019a-1000-d679-ae641f9a2bfd","name":"flatten_stock_records","comments":"","position":{"x":-40.0,"y":40.0},"type":"org.apache.nifi.processors.jolt.JoltTransformRecord","bundle":{"group":"org.apache.nifi","artifact":"nifi-jolt-nar","version":"2.6.0"},"properties":{"jolt-record-record-writer":"378adbdb-819f-3d8b-a239-dc8f2127a3ec","Jolt Transform":"jolt-transform-chain","Transform Cache Size":"1","Custom Transformation Class Name":null,"Custom Module Directory":null,"Jolt Specification":"[\n  {\n    \"operation\": \"shift\",\n    \"spec\": {\n      \"symbol\": \"symbol\",\n      \"name\": \"name\",\n      \"datetime\": \"datetime\",\n      \"open\": \"open_price\",\n      \"high\": \"high_price\",\n      \"low\": \"low_price\",\n      \"close\": \"close_price\",\n      \"volume\": \"volume\",\n      \"volume_usd\": \"volume_usd\",\n      \"return_24h\": \"return_24h\"\n    }\n  }\n]","jolt-record-record-reader":"18b69042-8c4d-36b5-b988-b5e741b503f8"},"propertyDescriptors":{"jolt-record-record-writer":{"name":"jolt-record-record-writer","displayName":"Record Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Jolt Transform":{"name":"Jolt Transform","displayName":"Jolt Transform","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Transform Cache Size":{"name":"Transform Cache Size","displayName":"Transform Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Custom Transformation Class Name":{"name":"Custom Transformation Class Name","displayName":"Custom Transformation Class Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Custom Module Directory":{"name":"Custom Module Directory","displayName":"Custom Module Directory","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}},"Jolt Specification":{"name":"Jolt Specification","displayName":"Jolt Specification","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE","TEXT"]}},"jolt-record-record-reader":{"name":"jolt-record-record-reader","displayName":"Record Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"8480cffe-019a-1000-df6d-04a4bbab220e"}],"inputPorts":[{"identifier":"8480d006-019a-1000-febf-1d3581ea27c4","instanceIdentifier":"5984df61-0497-3b31-3f23-def9ff1111bb","name":"in_raw_stock_file","position":{"x":24.0,"y":-160.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"8480cffe-019a-1000-df6d-04a4bbab220e"}],"outputPorts":[{"identifier":"f6833120-5bcc-3815-8684-7c4b634a2819","instanceIdentifier":"8e87d62e-019a-1000-83df-31c1ba716c70","name":"out_stock_topN_for_cache","position":{"x":-576.0,"y":72.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"8480cffe-019a-1000-df6d-04a4bbab220e"},{"identifier":"669ef7fe-c766-332a-9601-a14972db93aa","instanceIdentifier":"84a7e913-019a-1000-838c-a7a9023350de","name":"out_stage_stock_done","position":{"x":1312.0,"y":384.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"8480cffe-019a-1000-df6d-04a4bbab220e"}],"connections":[{"identifier":"8d23cb79-e87e-32a7-8261-239b09f92342","instanceIdentifier":"84fb80c7-019a-1000-5624-656c4b9a5829","name":"record_set_with_batch_id_success","source":{"id":"4d1fb6b2-3134-3559-88af-9ceff562dc60","type":"PROCESSOR","groupId":"8480cffe-019a-1000-df6d-04a4bbab220e","name":"set_batch_id_stock","comments":"","instanceIdentifier":"84b3ce4f-019a-1000-b4ae-b1f2503b8cbf"},"destination":{"id":"4defe01a-6d7d-36aa-9423-17fa16c364a6","type":"PROCESSOR","groupId":"8480cffe-019a-1000-df6d-04a4bbab220e","name":"flatten_stock_records","comments":"","instanceIdentifier":"84fa911a-019a-1000-d679-ae641f9a2bfd"},"labelIndex":0,"zIndex":11,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8480cffe-019a-1000-df6d-04a4bbab220e"},{"identifier":"76142dcd-51cd-3c67-9e64-6e6ab64efa75","instanceIdentifier":"8e8805dc-019a-1000-82c9-db6d30ba7a9e","name":"to_cache_topN_stock","source":{"id":"4defe01a-6d7d-36aa-9423-17fa16c364a6","type":"PROCESSOR","groupId":"8480cffe-019a-1000-df6d-04a4bbab220e","name":"flatten_stock_records","comments":"","instanceIdentifier":"84fa911a-019a-1000-d679-ae641f9a2bfd"},"destination":{"id":"f6833120-5bcc-3815-8684-7c4b634a2819","type":"OUTPUT_PORT","groupId":"8480cffe-019a-1000-df6d-04a4bbab220e","name":"out_stock_topN_for_cache","instanceIdentifier":"8e87d62e-019a-1000-83df-31c1ba716c70"},"labelIndex":0,"zIndex":15,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8480cffe-019a-1000-df6d-04a4bbab220e"},{"identifier":"cd2cd282-516c-307b-8065-668ce8a77b52","instanceIdentifier":"8e5df8a7-019a-1000-c6cf-7918a47c7a81","name":"records_inserted","source":{"id":"441b2a50-5048-35ae-8401-8b5426ca9907","type":"PROCESSOR","groupId":"8480cffe-019a-1000-df6d-04a4bbab220e","name":"insert_stock_ohlcv_stage_batch","comments":"","instanceIdentifier":"84fbc73d-019a-1000-7e0f-26db93c6d800"},"destination":{"id":"3d866d26-e6c8-37b3-88ea-06d97f90d702","type":"PROCESSOR","groupId":"8480cffe-019a-1000-df6d-04a4bbab220e","name":"set_stock_fragment_attrs","comments":"","instanceIdentifier":"8e5d5430-019a-1000-db5f-6ecb5ea9807b"},"labelIndex":0,"zIndex":13,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8480cffe-019a-1000-df6d-04a4bbab220e"},{"identifier":"6e691359-f7d8-3dd6-8b17-79bb87053b2b","instanceIdentifier":"84f62bc3-019a-1000-0a13-43fa1b664fd6","name":"set_batch_id","source":{"id":"8480d000-019a-1000-6edc-f13cf95fac2d","type":"PROCESSOR","groupId":"8480cffe-019a-1000-df6d-04a4bbab220e","name":"fetch_raw_ticker","comments":"","instanceIdentifier":"ea026ce9-a708-3af2-9470-2cfbdf907321"},"destination":{"id":"4d1fb6b2-3134-3559-88af-9ceff562dc60","type":"PROCESSOR","groupId":"8480cffe-019a-1000-df6d-04a4bbab220e","name":"set_batch_id_stock","comments":"","instanceIdentifier":"84b3ce4f-019a-1000-b4ae-b1f2503b8cbf"},"labelIndex":0,"zIndex":10,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8480cffe-019a-1000-df6d-04a4bbab220e"},{"identifier":"8480d00a-019a-1000-a5ef-4f88d7380348","instanceIdentifier":"e8deb1b8-c0db-30e6-6381-318e234cbe8b","name":"incoming_raw_stock_file","source":{"id":"8480d006-019a-1000-febf-1d3581ea27c4","type":"INPUT_PORT","groupId":"8480cffe-019a-1000-df6d-04a4bbab220e","name":"in_raw_stock_file","instanceIdentifier":"5984df61-0497-3b31-3f23-def9ff1111bb"},"destination":{"id":"8480d000-019a-1000-6edc-f13cf95fac2d","type":"PROCESSOR","groupId":"8480cffe-019a-1000-df6d-04a4bbab220e","name":"fetch_raw_ticker","comments":"","instanceIdentifier":"ea026ce9-a708-3af2-9470-2cfbdf907321"},"labelIndex":0,"zIndex":9,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8480cffe-019a-1000-df6d-04a4bbab220e"},{"identifier":"fb670bae-395c-3f03-8d04-063c124e45fc","instanceIdentifier":"8e5e0f81-019a-1000-6813-5e52ac955ac1","name":"merge_ready","source":{"id":"3d866d26-e6c8-37b3-88ea-06d97f90d702","type":"PROCESSOR","groupId":"8480cffe-019a-1000-df6d-04a4bbab220e","name":"set_stock_fragment_attrs","comments":"","instanceIdentifier":"8e5d5430-019a-1000-db5f-6ecb5ea9807b"},"destination":{"id":"669ef7fe-c766-332a-9601-a14972db93aa","type":"OUTPUT_PORT","groupId":"8480cffe-019a-1000-df6d-04a4bbab220e","name":"out_stage_stock_done","instanceIdentifier":"84a7e913-019a-1000-838c-a7a9023350de"},"labelIndex":0,"zIndex":14,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8480cffe-019a-1000-df6d-04a4bbab220e"},{"identifier":"e1cb99f5-662a-319e-99ac-38e1d304d8cb","instanceIdentifier":"84fcdd05-019a-1000-0c0f-0ca6ab671105","name":"transformation_successful","source":{"id":"4defe01a-6d7d-36aa-9423-17fa16c364a6","type":"PROCESSOR","groupId":"8480cffe-019a-1000-df6d-04a4bbab220e","name":"flatten_stock_records","comments":"","instanceIdentifier":"84fa911a-019a-1000-d679-ae641f9a2bfd"},"destination":{"id":"441b2a50-5048-35ae-8401-8b5426ca9907","type":"PROCESSOR","groupId":"8480cffe-019a-1000-df6d-04a4bbab220e","name":"insert_stock_ohlcv_stage_batch","comments":"","instanceIdentifier":"84fbc73d-019a-1000-7e0f-26db93c6d800"},"labelIndex":0,"zIndex":12,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"8480cffe-019a-1000-df6d-04a4bbab220e"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"8480cfff-019a-1000-69d1-faddde31cc73","instanceIdentifier":"007f6f2b-f769-3a7e-c566-6bfd48075648","name":"AWSCredentialsProviderControllerService","comments":"","type":"org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderControllerService","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"2.6.0"},"properties":{"Assume Role STS Region":"us-west-2","Assume Role Proxy Configuration Service":null,"Assume Role ARN":null,"Assume Role Session Time":"3600","Assume Role Session Name":null,"Custom Signer Module Location":null,"Use Default Credentials":"false","Assume Role External ID":null,"Assume Role STS Endpoint Override":null,"Profile Name":null,"Credentials File":null,"Custom Signer Class Name":null,"Assume Role STS Signer Override":"Default Signature","Use Anonymous Credentials":"true","Assume Role SSL Context Service":null},"propertyDescriptors":{"Assume Role STS Region":{"name":"Assume Role STS Region","displayName":"Assume Role STS Region","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role Proxy Configuration Service":{"name":"Assume Role Proxy Configuration Service","displayName":"Assume Role Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Access Key ID":{"name":"Access Key ID","displayName":"Access Key ID","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Assume Role ARN":{"name":"Assume Role ARN","displayName":"Assume Role ARN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role Session Time":{"name":"Assume Role Session Time","displayName":"Assume Role Session Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role Session Name":{"name":"Assume Role Session Name","displayName":"Assume Role Session Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Custom Signer Module Location":{"name":"Custom Signer Module Location","displayName":"Custom Signer Module Location","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}},"Use Default Credentials":{"name":"Use Default Credentials","displayName":"Use Default Credentials","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role External ID":{"name":"Assume Role External ID","displayName":"Assume Role External ID","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role STS Endpoint Override":{"name":"Assume Role STS Endpoint Override","displayName":"Assume Role STS Endpoint Override","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Profile Name":{"name":"Profile Name","displayName":"Profile Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Credentials File":{"name":"Credentials File","displayName":"Credentials File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Custom Signer Class Name":{"name":"Custom Signer Class Name","displayName":"Custom Signer Class Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role STS Signer Override":{"name":"Assume Role STS Signer Override","displayName":"Assume Role STS Signer Override","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Use Anonymous Credentials":{"name":"Use Anonymous Credentials","displayName":"Use Anonymous Credentials","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Secret Access Key":{"name":"Secret Access Key","displayName":"Secret Access Key","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Assume Role SSL Context Service":{"name":"Assume Role SSL Context Service","displayName":"Assume Role SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderService","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-service-api-nar","version":"2.6.0"}},{"type":"org.apache.nifi.processors.aws.credentials.provider.AwsCredentialsProviderService","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-service-api-nar","version":"2.6.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"8480cffe-019a-1000-df6d-04a4bbab220e"}],"parameterContextName":"global-etl-context","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e"},{"identifier":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99","instanceIdentifier":"7efd80d5-019a-1000-2f4e-3be50c26b955","name":"raw_crypto_fetch","comments":"","position":{"x":-496.0,"y":-328.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"98c7bf8e-12ff-3ba6-a96d-3c0b2c30a902","instanceIdentifier":"7f0605d1-019a-1000-8793-5619a42fcdde","name":"fetch_crypto_tickers","comments":"","position":{"x":304.0,"y":-200.0},"type":"org.apache.nifi.processors.standard.InvokeHTTP","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.6.0"},"properties":{"Request Content-Encoding":"DISABLED","proxy-configuration-service":null,"Request Multipart Form-Data Filename Enabled":"true","Request Chunked Transfer-Encoding Enabled":"false","Response Header Request Attributes Prefix":null,"HTTP/2 Disabled":"False","Connection Timeout":"5 secs","Response Cookie Strategy":"DISABLED","Socket Read Timeout":"15 secs","Socket Idle Connections":"5","Request Body Enabled":"true","OAuth2 Access Token Refresh Strategy":"ON_TOKEN_EXPIRATION","HTTP URL":"https://api.coinpaprika.com/v1/tickers","Request OAuth2 Access Token Provider":null,"Socket Idle Timeout":"5 mins","Response Redirects Enabled":"True","Socket Write Timeout":"15 secs","Request Header Attributes Pattern":null,"Response FlowFile Naming Strategy":"RANDOM","Response Cache Enabled":"false","Request Date Header Enabled":"True","Request Failure Penalization Enabled":"false","Response Body Attribute Size":"256","SSL Context Service":null,"Response Generation Required":"false","Request User-Agent":null,"Response Header Request Attributes Enabled":"false","HTTP Method":"GET","Request Username":null,"Request Content-Type":"${mime.type}","Response Body Attribute Name":null,"Request Digest Authentication Enabled":"false","Request Multipart Form-Data Name":null,"Response Cache Size":"10MB","Response Body Ignored":"false"},"propertyDescriptors":{"Request Content-Encoding":{"name":"Request Content-Encoding","displayName":"Request Content-Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Filename Enabled":{"name":"Request Multipart Form-Data Filename Enabled","displayName":"Request Multipart Form-Data Filename Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Chunked Transfer-Encoding Enabled":{"name":"Request Chunked Transfer-Encoding Enabled","displayName":"Request Chunked Transfer-Encoding Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Prefix":{"name":"Response Header Request Attributes Prefix","displayName":"Response Header Request Attributes Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP/2 Disabled":{"name":"HTTP/2 Disabled","displayName":"HTTP/2 Disabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection Timeout":{"name":"Connection Timeout","displayName":"Connection Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cookie Strategy":{"name":"Response Cookie Strategy","displayName":"Response Cookie Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Password":{"name":"Request Password","displayName":"Request Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Socket Read Timeout":{"name":"Socket Read Timeout","displayName":"Socket Read Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Idle Connections":{"name":"Socket Idle Connections","displayName":"Socket Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Body Enabled":{"name":"Request Body Enabled","displayName":"Request Body Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"OAuth2 Access Token Refresh Strategy":{"name":"OAuth2 Access Token Refresh Strategy","displayName":"OAuth2 Access Token Refresh Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP URL":{"name":"HTTP URL","displayName":"HTTP URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request OAuth2 Access Token Provider":{"name":"Request OAuth2 Access Token Provider","displayName":"Request OAuth2 Access Token Provider","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Socket Idle Timeout":{"name":"Socket Idle Timeout","displayName":"Socket Idle Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Redirects Enabled":{"name":"Response Redirects Enabled","displayName":"Response Redirects Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Socket Write Timeout":{"name":"Socket Write Timeout","displayName":"Socket Write Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Header Attributes Pattern":{"name":"Request Header Attributes Pattern","displayName":"Request Header Attributes Pattern","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response FlowFile Naming Strategy":{"name":"Response FlowFile Naming Strategy","displayName":"Response FlowFile Naming Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Enabled":{"name":"Response Cache Enabled","displayName":"Response Cache Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Date Header Enabled":{"name":"Request Date Header Enabled","displayName":"Request Date Header Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Failure Penalization Enabled":{"name":"Request Failure Penalization Enabled","displayName":"Request Failure Penalization Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Size":{"name":"Response Body Attribute Size","displayName":"Response Body Attribute Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Response Generation Required":{"name":"Response Generation Required","displayName":"Response Generation Required","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request User-Agent":{"name":"Request User-Agent","displayName":"Request User-Agent","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Header Request Attributes Enabled":{"name":"Response Header Request Attributes Enabled","displayName":"Response Header Request Attributes Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"HTTP Method":{"name":"HTTP Method","displayName":"HTTP Method","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Username":{"name":"Request Username","displayName":"Request Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Content-Type":{"name":"Request Content-Type","displayName":"Request Content-Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Attribute Name":{"name":"Response Body Attribute Name","displayName":"Response Body Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Digest Authentication Enabled":{"name":"Request Digest Authentication Enabled","displayName":"Request Digest Authentication Enabled","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Request Multipart Form-Data Name":{"name":"Request Multipart Form-Data Name","displayName":"Request Multipart Form-Data Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Cache Size":{"name":"Response Cache Size","displayName":"Response Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Response Body Ignored":{"name":"Response Body Ignored","displayName":"Response Body Ignored","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["No Retry","Original"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"YIELD_PROCESSOR","maxBackoffPeriod":"5 mins","componentType":"PROCESSOR","groupIdentifier":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99"},{"identifier":"3595c5ee-25e1-352b-9b82-270ab0280195","instanceIdentifier":"7f5acc08-019a-1000-deb6-e9d1ba330720","name":"increment_retry_count","comments":"","position":{"x":984.0,"y":-304.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.6.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Store state locally","canonical-value-lookup-cache-size":"100","retry_count":"${retry_count:plus(1)}","Stateful Variables Initial Value":"retry_count=0"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"retry_count":{"name":"retry_count","displayName":"retry_count","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["set state fail"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99"},{"identifier":"d7e57de2-a4df-3299-8ff0-32455dba9f47","instanceIdentifier":"84039759-019a-1000-6e8d-06c4fd6e7039","name":"set_s3_info","comments":"","position":{"x":304.0,"y":48.0},"type":"org.apache.nifi.processors.attributes.UpdateAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-update-attribute-nar","version":"2.6.0"},"properties":{"Delete Attributes Expression":null,"Store State":"Do not store state","canonical-value-lookup-cache-size":"100","s3_key":"crypto/tickers/${now():format('yyyy-MM-dd_HH:mm')}.json","Stateful Variables Initial Value":null,"s3_bucket":"raw"},"propertyDescriptors":{"Delete Attributes Expression":{"name":"Delete Attributes Expression","displayName":"Delete Attributes Expression","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Store State":{"name":"Store State","displayName":"Store State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"canonical-value-lookup-cache-size":{"name":"canonical-value-lookup-cache-size","displayName":"Cache Value Lookup Cache Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"s3_key":{"name":"s3_key","displayName":"s3_key","identifiesControllerService":false,"sensitive":false,"dynamic":true},"Stateful Variables Initial Value":{"name":"Stateful Variables Initial Value","displayName":"Stateful Variables Initial Value","identifiesControllerService":false,"sensitive":false,"dynamic":false},"s3_bucket":{"name":"s3_bucket","displayName":"s3_bucket","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99"},{"identifier":"af4d846f-8753-365e-a4cb-ffc8a5a6c4dc","instanceIdentifier":"7f5d74aa-019a-1000-41e3-d9c2862f65ed","name":"check_retry_limit","comments":"","position":{"x":488.0,"y":-504.0},"type":"org.apache.nifi.processors.standard.RouteOnAttribute","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.6.0"},"properties":{"Routing Strategy":"Route to Property name","retry_ok":"${retry_count:lt(10)}"},"propertyDescriptors":{"Routing Strategy":{"name":"Routing Strategy","displayName":"Routing Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"retry_ok":{"name":"retry_ok","displayName":"retry_ok","identifiesControllerService":false,"sensitive":false,"dynamic":true}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":25,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["unmatched"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99"},{"identifier":"8d507bbb-923e-30cb-88ac-99d111588efd","instanceIdentifier":"7efe471d-019a-1000-b8b8-0388bf840ea4","name":"crypto_fetch_trigger","comments":"","position":{"x":-456.0,"y":-208.0},"type":"org.apache.nifi.processors.standard.GenerateFlowFile","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.6.0"},"properties":{"character-set":"UTF-8","File Size":"0B","mime-type":null,"generate-ff-custom-text":"start","Batch Size":"1","Unique FlowFiles":"false","Data Format":"Text"},"propertyDescriptors":{"character-set":{"name":"character-set","displayName":"Character Set","identifiesControllerService":false,"sensitive":false,"dynamic":false},"File Size":{"name":"File Size","displayName":"File Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"mime-type":{"name":"mime-type","displayName":"Mime Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"generate-ff-custom-text":{"name":"generate-ff-custom-text","displayName":"Custom Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Unique FlowFiles":{"name":"Unique FlowFiles","displayName":"Unique FlowFiles","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Data Format":{"name":"Data Format","displayName":"Data Format","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 0/5 * * * ?","schedulingStrategy":"CRON_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":[],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99"},{"identifier":"f570dd22-351b-3df5-913b-be593bfd8ffd","instanceIdentifier":"7f0cb879-019a-1000-b8ac-721d15268cdf","name":"write_crypto_tickers_to_s3","comments":"","position":{"x":304.0,"y":304.0},"type":"org.apache.nifi.processors.aws.s3.PutS3Object","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"2.6.0"},"properties":{"FullControl User List":"${s3.permissions.full.users}","Owner":"${s3.owner}","proxy-configuration-service":null,"Resource Transfer Source":"FLOWFILE_CONTENT","Cache Control":null,"Endpoint Override URL":"http://minio:9000","File Resource Service":null,"Multipart Upload Max Age Threshold":"7 days","Object Tags Prefix":null,"Signer Override":"Default Signature","Content Type":"application/json","Canned ACL":"${s3.permissions.cannedacl}","Use Path Style Access":"true","Encryption Service":null,"Write ACL User List":"${s3.permissions.writeacl.users}","Use Chunked Encoding":"true","Read ACL User List":"${s3.permissions.readacl.users}","Content Disposition":null,"Storage Class":"Standard","Multipart Part Size":"5 GB","Remove Tag Prefix":"false","Object Key":"${s3_key}","AWS Credentials Provider service":"4993415e-34b6-39f0-9c60-856073d8017a","Multipart Threshold":"5 GB","Temporary Directory Multipart State":"${java.io.tmpdir}","Custom Signer Module Location":null,"SSL Context Service":null,"Server Side Encryption":"None","Bucket":"${s3_bucket}","Multipart Upload AgeOff Interval":"60 min","Write Permission User List":"${s3.permissions.write.users}","Communications Timeout":"30 secs","Region":"us-east-1","Read Permission User List":"${s3.permissions.read.users}","Custom Signer Class Name":null,"Expiration Time Rule":null},"propertyDescriptors":{"FullControl User List":{"name":"FullControl User List","displayName":"FullControl User List","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Owner":{"name":"Owner","displayName":"Owner","identifiesControllerService":false,"sensitive":false,"dynamic":false},"proxy-configuration-service":{"name":"proxy-configuration-service","displayName":"Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Resource Transfer Source":{"name":"Resource Transfer Source","displayName":"Resource Transfer Source","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Cache Control":{"name":"Cache Control","displayName":"Cache Control","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Endpoint Override URL":{"name":"Endpoint Override URL","displayName":"Endpoint Override URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"File Resource Service":{"name":"File Resource Service","displayName":"File Resource Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Multipart Upload Max Age Threshold":{"name":"Multipart Upload Max Age Threshold","displayName":"Multipart Upload Max Age Threshold","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Object Tags Prefix":{"name":"Object Tags Prefix","displayName":"Object Tags Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Signer Override":{"name":"Signer Override","displayName":"Signer Override","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Type":{"name":"Content Type","displayName":"Content Type","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Canned ACL":{"name":"Canned ACL","displayName":"Canned ACL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Use Path Style Access":{"name":"Use Path Style Access","displayName":"Use Path Style Access","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Encryption Service":{"name":"Encryption Service","displayName":"Encryption Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Write ACL User List":{"name":"Write ACL User List","displayName":"Write ACL User List","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Use Chunked Encoding":{"name":"Use Chunked Encoding","displayName":"Use Chunked Encoding","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Read ACL User List":{"name":"Read ACL User List","displayName":"Read ACL User List","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Content Disposition":{"name":"Content Disposition","displayName":"Content Disposition","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Storage Class":{"name":"Storage Class","displayName":"Storage Class","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Multipart Part Size":{"name":"Multipart Part Size","displayName":"Multipart Part Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Remove Tag Prefix":{"name":"Remove Tag Prefix","displayName":"Remove Tag Prefix","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Object Key":{"name":"Object Key","displayName":"Object Key","identifiesControllerService":false,"sensitive":false,"dynamic":false},"AWS Credentials Provider service":{"name":"AWS Credentials Provider service","displayName":"AWS Credentials Provider service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Multipart Threshold":{"name":"Multipart Threshold","displayName":"Multipart Threshold","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Temporary Directory Multipart State":{"name":"Temporary Directory Multipart State","displayName":"Temporary Directory Multipart State","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Custom Signer Module Location":{"name":"Custom Signer Module Location","displayName":"Custom Signer Module Location","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Server Side Encryption":{"name":"Server Side Encryption","displayName":"Server Side Encryption","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Bucket":{"name":"Bucket","displayName":"Bucket","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Multipart Upload AgeOff Interval":{"name":"Multipart Upload AgeOff Interval","displayName":"Multipart Upload AgeOff Interval","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Write Permission User List":{"name":"Write Permission User List","displayName":"Write Permission User List","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Communications Timeout":{"name":"Communications Timeout","displayName":"Communications Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Region":{"name":"Region","displayName":"Region","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Read Permission User List":{"name":"Read Permission User List","displayName":"Read Permission User List","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Custom Signer Class Name":{"name":"Custom Signer Class Name","displayName":"Custom Signer Class Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Expiration Time Rule":{"name":"Expiration Time Rule","displayName":"Expiration Time Rule","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99"}],"inputPorts":[],"outputPorts":[{"identifier":"ecf94cd1-7f46-3f49-981a-c84ac23e5209","instanceIdentifier":"840738a7-019a-1000-a062-11e515a29dbf","name":"out_raw_crypto","position":{"x":360.0,"y":536.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99"}],"connections":[{"identifier":"390f8946-a588-31d7-b9c0-a3912ca72ff9","instanceIdentifier":"7f5ed34a-019a-1000-51c4-cf8c8ec22551","name":"","source":{"id":"af4d846f-8753-365e-a4cb-ffc8a5a6c4dc","type":"PROCESSOR","groupId":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99","name":"check_retry_limit","comments":"","instanceIdentifier":"7f5d74aa-019a-1000-41e3-d9c2862f65ed"},"destination":{"id":"98c7bf8e-12ff-3ba6-a96d-3c0b2c30a902","type":"PROCESSOR","groupId":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99","name":"fetch_crypto_tickers","comments":"","instanceIdentifier":"7f0605d1-019a-1000-8793-5619a42fcdde"},"labelIndex":0,"zIndex":5,"selectedRelationships":["retry_ok"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99"},{"identifier":"fceb6265-2e24-385c-b4e6-f7449c114a11","instanceIdentifier":"7f0c70c1-019a-1000-b381-96cf3ccf7cb5","name":"trigger_to_invokehttp","source":{"id":"8d507bbb-923e-30cb-88ac-99d111588efd","type":"PROCESSOR","groupId":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99","name":"crypto_fetch_trigger","comments":"","instanceIdentifier":"7efe471d-019a-1000-b8b8-0388bf840ea4"},"destination":{"id":"98c7bf8e-12ff-3ba6-a96d-3c0b2c30a902","type":"PROCESSOR","groupId":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99","name":"fetch_crypto_tickers","comments":"","instanceIdentifier":"7f0605d1-019a-1000-8793-5619a42fcdde"},"labelIndex":0,"zIndex":1,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"5 mins","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99"},{"identifier":"17f68166-b6b7-3c35-909c-cb6d714dd6f2","instanceIdentifier":"8404c78e-019a-1000-5f89-5f1a9624a5fe","name":"fetched_tickers","source":{"id":"98c7bf8e-12ff-3ba6-a96d-3c0b2c30a902","type":"PROCESSOR","groupId":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99","name":"fetch_crypto_tickers","comments":"","instanceIdentifier":"7f0605d1-019a-1000-8793-5619a42fcdde"},"destination":{"id":"d7e57de2-a4df-3299-8ff0-32455dba9f47","type":"PROCESSOR","groupId":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99","name":"set_s3_info","comments":"","instanceIdentifier":"84039759-019a-1000-6e8d-06c4fd6e7039"},"labelIndex":0,"zIndex":6,"selectedRelationships":["Response"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99"},{"identifier":"5b674172-b317-3813-92c9-8c7fc8425661","instanceIdentifier":"7f5e59d5-019a-1000-f36c-69b6bcb7a535","name":"http_error","source":{"id":"98c7bf8e-12ff-3ba6-a96d-3c0b2c30a902","type":"PROCESSOR","groupId":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99","name":"fetch_crypto_tickers","comments":"","instanceIdentifier":"7f0605d1-019a-1000-8793-5619a42fcdde"},"destination":{"id":"3595c5ee-25e1-352b-9b82-270ab0280195","type":"PROCESSOR","groupId":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99","name":"increment_retry_count","comments":"","instanceIdentifier":"7f5acc08-019a-1000-deb6-e9d1ba330720"},"labelIndex":0,"zIndex":3,"selectedRelationships":["Retry","Failure"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99"},{"identifier":"b0279ce2-babb-38b8-8479-c04327527e3b","instanceIdentifier":"8407682b-019a-1000-152d-9548dac50bdb","name":"s3_upload_success","source":{"id":"f570dd22-351b-3df5-913b-be593bfd8ffd","type":"PROCESSOR","groupId":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99","name":"write_crypto_tickers_to_s3","comments":"","instanceIdentifier":"7f0cb879-019a-1000-b8ac-721d15268cdf"},"destination":{"id":"ecf94cd1-7f46-3f49-981a-c84ac23e5209","type":"OUTPUT_PORT","groupId":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99","name":"out_raw_crypto","instanceIdentifier":"840738a7-019a-1000-a062-11e515a29dbf"},"labelIndex":0,"zIndex":8,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99"},{"identifier":"df226d97-52c9-347f-9832-d4e7f349d64d","instanceIdentifier":"7f5eab17-019a-1000-ca73-6b8c972e0fb6","name":"","source":{"id":"3595c5ee-25e1-352b-9b82-270ab0280195","type":"PROCESSOR","groupId":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99","name":"increment_retry_count","comments":"","instanceIdentifier":"7f5acc08-019a-1000-deb6-e9d1ba330720"},"destination":{"id":"af4d846f-8753-365e-a4cb-ffc8a5a6c4dc","type":"PROCESSOR","groupId":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99","name":"check_retry_limit","comments":"","instanceIdentifier":"7f5d74aa-019a-1000-41e3-d9c2862f65ed"},"labelIndex":0,"zIndex":4,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99"},{"identifier":"5e8d591b-6ed2-3b1e-8314-1e74e54de1c3","instanceIdentifier":"84057d86-019a-1000-463d-56e03cf7cb04","name":"ready_for_s3_upload","source":{"id":"d7e57de2-a4df-3299-8ff0-32455dba9f47","type":"PROCESSOR","groupId":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99","name":"set_s3_info","comments":"","instanceIdentifier":"84039759-019a-1000-6e8d-06c4fd6e7039"},"destination":{"id":"f570dd22-351b-3df5-913b-be593bfd8ffd","type":"PROCESSOR","groupId":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99","name":"write_crypto_tickers_to_s3","comments":"","instanceIdentifier":"7f0cb879-019a-1000-b8ac-721d15268cdf"},"labelIndex":0,"zIndex":7,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"4993415e-34b6-39f0-9c60-856073d8017a","instanceIdentifier":"62eac892-0a3a-3ae2-b982-4858d2063012","name":"AWSCredentialsProviderControllerService","comments":"","type":"org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderControllerService","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-nar","version":"2.6.0"},"properties":{"Assume Role STS Region":"us-west-2","Assume Role Proxy Configuration Service":null,"Assume Role ARN":null,"Assume Role Session Time":"3600","Assume Role Session Name":null,"Custom Signer Module Location":null,"Use Default Credentials":"false","Assume Role External ID":null,"Assume Role STS Endpoint Override":null,"Profile Name":null,"Credentials File":null,"Custom Signer Class Name":null,"Assume Role STS Signer Override":"Default Signature","Use Anonymous Credentials":"true","Assume Role SSL Context Service":null},"propertyDescriptors":{"Assume Role STS Region":{"name":"Assume Role STS Region","displayName":"Assume Role STS Region","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role Proxy Configuration Service":{"name":"Assume Role Proxy Configuration Service","displayName":"Assume Role Proxy Configuration Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Access Key ID":{"name":"Access Key ID","displayName":"Access Key ID","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Assume Role ARN":{"name":"Assume Role ARN","displayName":"Assume Role ARN","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role Session Time":{"name":"Assume Role Session Time","displayName":"Assume Role Session Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role Session Name":{"name":"Assume Role Session Name","displayName":"Assume Role Session Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Custom Signer Module Location":{"name":"Custom Signer Module Location","displayName":"Custom Signer Module Location","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","FILE"]}},"Use Default Credentials":{"name":"Use Default Credentials","displayName":"Use Default Credentials","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role External ID":{"name":"Assume Role External ID","displayName":"Assume Role External ID","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role STS Endpoint Override":{"name":"Assume Role STS Endpoint Override","displayName":"Assume Role STS Endpoint Override","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Profile Name":{"name":"Profile Name","displayName":"Profile Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Credentials File":{"name":"Credentials File","displayName":"Credentials File","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE"]}},"Custom Signer Class Name":{"name":"Custom Signer Class Name","displayName":"Custom Signer Class Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Assume Role STS Signer Override":{"name":"Assume Role STS Signer Override","displayName":"Assume Role STS Signer Override","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Use Anonymous Credentials":{"name":"Use Anonymous Credentials","displayName":"Use Anonymous Credentials","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Secret Access Key":{"name":"Secret Access Key","displayName":"Secret Access Key","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Assume Role SSL Context Service":{"name":"Assume Role SSL Context Service","displayName":"Assume Role SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.processors.aws.credentials.provider.service.AWSCredentialsProviderService","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-service-api-nar","version":"2.6.0"}},{"type":"org.apache.nifi.processors.aws.credentials.provider.AwsCredentialsProviderService","bundle":{"group":"org.apache.nifi","artifact":"nifi-aws-service-api-nar","version":"2.6.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99"}],"parameterContextName":"global-etl-context","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e"},{"identifier":"805358b6-737b-3505-aba9-6c4be2d56da9","instanceIdentifier":"84a21687-019a-1000-1bf0-af49c14cb65a","name":"dwh_load","comments":"","position":{"x":1056.0,"y":-496.0},"processGroups":[],"remoteProcessGroups":[],"processors":[{"identifier":"e75dc46c-e218-34b1-ac2e-b647c929bc0b","instanceIdentifier":"84b88ead-019a-1000-c5ed-a9486c2cecec","name":"merge_crypto_and_stock_batches","comments":"","position":{"x":304.0,"y":-32.0},"type":"org.apache.nifi.processors.standard.MergeContent","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.6.0"},"properties":{"Keep Path":"false","Maximum Group Size":null,"Merge Strategy":"Defragment","Attribute Strategy":"Keep Only Common Attributes","FlowFile Insertion Strategy":"Last in Bin","Compression Level":"1","Maximum Number of Entries":"2","Minimum Group Size":"0 B","Maximum number of Bins":"6","Tar Modified Time":"${file.lastModifiedTime}","Delimiter Strategy":"Do Not Use Delimiters","Merge Format":"Binary Concatenation","Footer File":null,"Max Bin Age":"6 minutes","Demarcator File":null,"Correlation Attribute Name":"batch_id","Bin Termination Check":null,"Header File":null,"mergecontent-metadata-strategy":"Do Not Merge Uncommon Metadata","Minimum Number of Entries":"2"},"propertyDescriptors":{"Keep Path":{"name":"Keep Path","displayName":"Keep Path","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Group Size":{"name":"Maximum Group Size","displayName":"Maximum Group Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Merge Strategy":{"name":"Merge Strategy","displayName":"Merge Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Attribute Strategy":{"name":"Attribute Strategy","displayName":"Attribute Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"FlowFile Insertion Strategy":{"name":"FlowFile Insertion Strategy","displayName":"FlowFile Insertion Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Compression Level":{"name":"Compression Level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum Number of Entries":{"name":"Maximum Number of Entries","displayName":"Maximum Number of Entries","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Minimum Group Size":{"name":"Minimum Group Size","displayName":"Minimum Group Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Maximum number of Bins":{"name":"Maximum number of Bins","displayName":"Maximum number of Bins","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Tar Modified Time":{"name":"Tar Modified Time","displayName":"Tar Modified Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Delimiter Strategy":{"name":"Delimiter Strategy","displayName":"Delimiter Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Merge Format":{"name":"Merge Format","displayName":"Merge Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Footer File":{"name":"Footer File","displayName":"Footer","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE","TEXT"]}},"Max Bin Age":{"name":"Max Bin Age","displayName":"Max Bin Age","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Demarcator File":{"name":"Demarcator File","displayName":"Demarcator","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE","TEXT"]}},"Correlation Attribute Name":{"name":"Correlation Attribute Name","displayName":"Correlation Attribute Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Bin Termination Check":{"name":"Bin Termination Check","displayName":"Bin Termination Check","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Header File":{"name":"Header File","displayName":"Header","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"SINGLE","resourceTypes":["FILE","TEXT"]}},"mergecontent-metadata-strategy":{"name":"mergecontent-metadata-strategy","displayName":"Metadata Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Minimum Number of Entries":{"name":"Minimum Number of Entries","displayName":"Minimum Number of Entries","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["original","failure"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"805358b6-737b-3505-aba9-6c4be2d56da9"},{"identifier":"5459e2a5-50f4-32a2-84b7-dca8a041baa5","instanceIdentifier":"850e6ba8-019a-1000-151a-1be16e587cc0","name":"run_dwh_load_snapshot","comments":"","position":{"x":968.0,"y":-24.0},"type":"org.apache.nifi.processors.standard.PutSQL","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-nar","version":"2.6.0"},"properties":{"Support Fragmented Transactions":"false","putsql-sql-statement":"SELECT dwh.load_intraday_snapshot();","Transaction Timeout":null,"Batch Size":"100","Obtain Generated Keys":"false","JDBC Connection Pool":"4d434277-7f05-3e96-bfce-6640cfe5b049","database-session-autocommit":"false","rollback-on-failure":"true"},"propertyDescriptors":{"Support Fragmented Transactions":{"name":"Support Fragmented Transactions","displayName":"Support Fragmented Transactions","identifiesControllerService":false,"sensitive":false,"dynamic":false},"putsql-sql-statement":{"name":"putsql-sql-statement","displayName":"SQL Statement","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Transaction Timeout":{"name":"Transaction Timeout","displayName":"Transaction Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Batch Size":{"name":"Batch Size","displayName":"Batch Size","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Obtain Generated Keys":{"name":"Obtain Generated Keys","displayName":"Obtain Generated Keys","identifiesControllerService":false,"sensitive":false,"dynamic":false},"JDBC Connection Pool":{"name":"JDBC Connection Pool","displayName":"JDBC Connection Pool","identifiesControllerService":true,"sensitive":false,"dynamic":false},"database-session-autocommit":{"name":"database-session-autocommit","displayName":"Database Session AutoCommit","identifiesControllerService":false,"sensitive":false,"dynamic":false},"rollback-on-failure":{"name":"rollback-on-failure","displayName":"Rollback On Failure","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"style":{},"schedulingPeriod":"0 sec","schedulingStrategy":"TIMER_DRIVEN","executionNode":"ALL","penaltyDuration":"30 sec","yieldDuration":"1 sec","bulletinLevel":"WARN","runDurationMillis":0,"concurrentlySchedulableTaskCount":1,"autoTerminatedRelationships":["failure","retry"],"scheduledState":"ENABLED","retryCount":10,"retriedRelationships":[],"backoffMechanism":"PENALIZE_FLOWFILE","maxBackoffPeriod":"10 mins","componentType":"PROCESSOR","groupIdentifier":"805358b6-737b-3505-aba9-6c4be2d56da9"}],"inputPorts":[{"identifier":"6b99ba3d-5ecb-30db-8a37-4c4efa968e3a","instanceIdentifier":"84b70eb3-019a-1000-de52-de32b26cab10","name":"crypto_done","position":{"x":-232.0,"y":-88.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"805358b6-737b-3505-aba9-6c4be2d56da9"},{"identifier":"35df2cd5-602a-3620-9960-e0b77182c1ad","instanceIdentifier":"84b7400c-019a-1000-9c3a-2082eac4f631","name":"stock_done","position":{"x":-224.0,"y":80.0},"type":"INPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"INPUT_PORT","groupIdentifier":"805358b6-737b-3505-aba9-6c4be2d56da9"}],"outputPorts":[{"identifier":"751c0e1d-3cb7-3e17-b095-aa1414092fb7","instanceIdentifier":"8f098534-019a-1000-8a05-1f9b26433377","name":"out_dwh_snapshot_done","position":{"x":1024.0,"y":-272.0},"type":"OUTPUT_PORT","concurrentlySchedulableTaskCount":1,"scheduledState":"ENABLED","allowRemoteAccess":false,"portFunction":"STANDARD","componentType":"OUTPUT_PORT","groupIdentifier":"805358b6-737b-3505-aba9-6c4be2d56da9"}],"connections":[{"identifier":"6f31e8ef-9cd7-3387-a223-50574d410312","instanceIdentifier":"8f0a0cbf-019a-1000-13d2-7f6a6b92d11f","name":"dwh_ok","source":{"id":"5459e2a5-50f4-32a2-84b7-dca8a041baa5","type":"PROCESSOR","groupId":"805358b6-737b-3505-aba9-6c4be2d56da9","name":"run_dwh_load_snapshot","comments":"","instanceIdentifier":"850e6ba8-019a-1000-151a-1be16e587cc0"},"destination":{"id":"751c0e1d-3cb7-3e17-b095-aa1414092fb7","type":"OUTPUT_PORT","groupId":"805358b6-737b-3505-aba9-6c4be2d56da9","name":"out_dwh_snapshot_done","instanceIdentifier":"8f098534-019a-1000-8a05-1f9b26433377"},"labelIndex":0,"zIndex":4,"selectedRelationships":["success"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"805358b6-737b-3505-aba9-6c4be2d56da9"},{"identifier":"0d3635e2-e499-3d36-ba45-ec6873758777","instanceIdentifier":"85184e2c-019a-1000-5518-dff38fbf31b2","name":"crypto_and_stock_arrived","source":{"id":"e75dc46c-e218-34b1-ac2e-b647c929bc0b","type":"PROCESSOR","groupId":"805358b6-737b-3505-aba9-6c4be2d56da9","name":"merge_crypto_and_stock_batches","comments":"","instanceIdentifier":"84b88ead-019a-1000-c5ed-a9486c2cecec"},"destination":{"id":"5459e2a5-50f4-32a2-84b7-dca8a041baa5","type":"PROCESSOR","groupId":"805358b6-737b-3505-aba9-6c4be2d56da9","name":"run_dwh_load_snapshot","comments":"","instanceIdentifier":"850e6ba8-019a-1000-151a-1be16e587cc0"},"labelIndex":0,"zIndex":3,"selectedRelationships":["merged"],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"805358b6-737b-3505-aba9-6c4be2d56da9"},{"identifier":"08261797-e336-39f7-b18d-31d52aae251c","instanceIdentifier":"8508ebe5-019a-1000-9618-ae757d6596b7","name":"","source":{"id":"6b99ba3d-5ecb-30db-8a37-4c4efa968e3a","type":"INPUT_PORT","groupId":"805358b6-737b-3505-aba9-6c4be2d56da9","name":"crypto_done","instanceIdentifier":"84b70eb3-019a-1000-de52-de32b26cab10"},"destination":{"id":"e75dc46c-e218-34b1-ac2e-b647c929bc0b","type":"PROCESSOR","groupId":"805358b6-737b-3505-aba9-6c4be2d56da9","name":"merge_crypto_and_stock_batches","comments":"","instanceIdentifier":"84b88ead-019a-1000-c5ed-a9486c2cecec"},"labelIndex":0,"zIndex":1,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"805358b6-737b-3505-aba9-6c4be2d56da9"},{"identifier":"52c85e27-9b9b-3d34-8f38-05db00782331","instanceIdentifier":"8509024b-019a-1000-2a52-c1b11f0bcc89","name":"","source":{"id":"35df2cd5-602a-3620-9960-e0b77182c1ad","type":"INPUT_PORT","groupId":"805358b6-737b-3505-aba9-6c4be2d56da9","name":"stock_done","instanceIdentifier":"84b7400c-019a-1000-9c3a-2082eac4f631"},"destination":{"id":"e75dc46c-e218-34b1-ac2e-b647c929bc0b","type":"PROCESSOR","groupId":"805358b6-737b-3505-aba9-6c4be2d56da9","name":"merge_crypto_and_stock_batches","comments":"","instanceIdentifier":"84b88ead-019a-1000-c5ed-a9486c2cecec"},"labelIndex":0,"zIndex":2,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"805358b6-737b-3505-aba9-6c4be2d56da9"}],"labels":[],"funnels":[],"controllerServices":[],"parameterContextName":"global-etl-context","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP","groupIdentifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e"}],"remoteProcessGroups":[],"processors":[],"inputPorts":[],"outputPorts":[],"connections":[{"identifier":"87f5880c-8015-327a-895c-311282aba685","instanceIdentifier":"8e88df30-019a-1000-1cee-7145908afc96","name":"","source":{"id":"f6833120-5bcc-3815-8684-7c4b634a2819","type":"OUTPUT_PORT","groupId":"8480cffe-019a-1000-df6d-04a4bbab220e","name":"out_stock_topN_for_cache","instanceIdentifier":"8e87d62e-019a-1000-83df-31c1ba716c70"},"destination":{"id":"9d1297ff-9b69-39d6-aa56-e1013ac8a144","type":"INPUT_PORT","groupId":"f64f151c-8eb2-308c-9046-fe03432c5954","name":"in_stock_topN_for_cache","instanceIdentifier":"8e817b86-019a-1000-4b13-76d13163eb59"},"labelIndex":0,"zIndex":6,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e"},{"identifier":"2e008971-1b1c-3eb2-b626-48d64f6a83cf","instanceIdentifier":"8f0b65ec-019a-1000-db14-4e9782d83dc6","name":"","source":{"id":"751c0e1d-3cb7-3e17-b095-aa1414092fb7","type":"OUTPUT_PORT","groupId":"805358b6-737b-3505-aba9-6c4be2d56da9","name":"out_dwh_snapshot_done","instanceIdentifier":"8f098534-019a-1000-8a05-1f9b26433377"},"destination":{"id":"ad512b9d-9975-3408-8ede-62a2ea68dc2f","type":"INPUT_PORT","groupId":"e5386e4f-037b-3ac5-9346-738ea5052622","name":"in_dwh_snapshot_done","instanceIdentifier":"8f0b03e0-019a-1000-f80b-018a9860ee4f"},"labelIndex":0,"zIndex":7,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e"},{"identifier":"ec4f69e0-b78d-3ddf-9aba-07271643c675","instanceIdentifier":"8409272f-019a-1000-f9ea-8f438040db1f","name":"raw_crypto_to_stage","source":{"id":"ecf94cd1-7f46-3f49-981a-c84ac23e5209","type":"OUTPUT_PORT","groupId":"4ae853e3-08ec-31a4-b6c0-bb157c5c4d99","name":"out_raw_crypto","instanceIdentifier":"840738a7-019a-1000-a062-11e515a29dbf"},"destination":{"id":"f94faa8d-e088-3f96-950c-02293e019143","type":"INPUT_PORT","groupId":"75b4e6e5-d748-3005-854b-0ed1adf72c05","name":"in_raw_crypto_file","instanceIdentifier":"840834f7-019a-1000-21c3-217019085549"},"labelIndex":0,"zIndex":1,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e"},{"identifier":"61534499-7470-3f78-b464-f232159b8a51","instanceIdentifier":"84815247-019a-1000-b143-8df49cdad61d","name":"raw_stock_to_stage","source":{"id":"8474bc8c-019a-1000-26ad-a3c85161d777","type":"OUTPUT_PORT","groupId":"8474bc84-019a-1000-f1b8-e23cd2fc9e2f","name":"out_raw_stock","instanceIdentifier":"7002d5a6-f899-3b85-3be2-3bfb5096897e"},"destination":{"id":"8480d006-019a-1000-febf-1d3581ea27c4","type":"INPUT_PORT","groupId":"8480cffe-019a-1000-df6d-04a4bbab220e","name":"in_raw_stock_file","instanceIdentifier":"5984df61-0497-3b31-3f23-def9ff1111bb"},"labelIndex":0,"zIndex":2,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e"},{"identifier":"c4012d5e-adc1-3598-9bec-fc8520a110f8","instanceIdentifier":"8e88bc46-019a-1000-1c67-2f359eb6d065","name":"","source":{"id":"91b2aeae-6afb-3891-b4d3-5ae261734e28","type":"OUTPUT_PORT","groupId":"75b4e6e5-d748-3005-854b-0ed1adf72c05","name":"out_crypto_topN_for_cache","instanceIdentifier":"8e8729c2-019a-1000-99f2-4adc1d7485c4"},"destination":{"id":"b56c19bc-617e-35e8-bc8a-c1a76697534d","type":"INPUT_PORT","groupId":"f64f151c-8eb2-308c-9046-fe03432c5954","name":"in_crypto_topN_for_cache","instanceIdentifier":"8e816188-019a-1000-f3a6-d7f1f31fd22b"},"labelIndex":0,"zIndex":5,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e"},{"identifier":"334d129b-a14f-3e6c-8344-e140a59cec84","instanceIdentifier":"84b777f7-019a-1000-97e2-1e92f36e517c","name":"stage_crypto_to_dwh","source":{"id":"86db6eb1-048c-3c88-a617-cd7c48e4bb10","type":"OUTPUT_PORT","groupId":"75b4e6e5-d748-3005-854b-0ed1adf72c05","name":"out_stage_crypto_done","instanceIdentifier":"84b20b31-019a-1000-d1e6-df3d5666de9a"},"destination":{"id":"6b99ba3d-5ecb-30db-8a37-4c4efa968e3a","type":"INPUT_PORT","groupId":"805358b6-737b-3505-aba9-6c4be2d56da9","name":"crypto_done","instanceIdentifier":"84b70eb3-019a-1000-de52-de32b26cab10"},"labelIndex":0,"zIndex":3,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e"},{"identifier":"34e19722-c859-320e-b741-7be0694c1998","instanceIdentifier":"84b79966-019a-1000-28be-adef50505e9e","name":"stage_stock_to_dwh","source":{"id":"669ef7fe-c766-332a-9601-a14972db93aa","type":"OUTPUT_PORT","groupId":"8480cffe-019a-1000-df6d-04a4bbab220e","name":"out_stage_stock_done","instanceIdentifier":"84a7e913-019a-1000-838c-a7a9023350de"},"destination":{"id":"35df2cd5-602a-3620-9960-e0b77182c1ad","type":"INPUT_PORT","groupId":"805358b6-737b-3505-aba9-6c4be2d56da9","name":"stock_done","instanceIdentifier":"84b7400c-019a-1000-9c3a-2082eac4f631"},"labelIndex":0,"zIndex":4,"selectedRelationships":[""],"backPressureObjectThreshold":10000,"backPressureDataSizeThreshold":"1 GB","flowFileExpiration":"0 sec","prioritizers":[],"bends":[],"loadBalanceStrategy":"DO_NOT_LOAD_BALANCE","partitioningAttribute":"","loadBalanceCompression":"DO_NOT_COMPRESS","componentType":"CONNECTION","groupIdentifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e"}],"labels":[],"funnels":[],"controllerServices":[{"identifier":"18b69042-8c4d-36b5-b988-b5e741b503f8","instanceIdentifier":"8ec69e20-019a-1000-a4d2-6a3502bf07e7","name":"JsonReader","comments":"","type":"org.apache.nifi.json.JsonTreeReader","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"2.6.0"},"properties":{"schema-reference-reader":null,"schema-branch":null,"Max String Length":"20 MB","schema-application-strategy":"SELECTED_PART","Timestamp Format":"yyyy-MM-dd'T'HH:mm:ssXXX","schema-inference-cache":null,"Date Format":null,"schema-name":"${schema.name}","starting-field-strategy":"ROOT_NODE","schema-registry":null,"starting-field-name":null,"Time Format":null,"schema-access-strategy":"infer-schema","schema-version":null,"schema-text":"${avro.schema}","Allow Comments":"false"},"propertyDescriptors":{"schema-reference-reader":{"name":"schema-reference-reader","displayName":"Schema Reference Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max String Length":{"name":"Max String Length","displayName":"Max String Length","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-application-strategy":{"name":"schema-application-strategy","displayName":"Schema Application Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-inference-cache":{"name":"schema-inference-cache","displayName":"Schema Inference Cache","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"starting-field-strategy":{"name":"starting-field-strategy","displayName":"Starting Field Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false,"dynamic":false},"starting-field-name":{"name":"starting-field-name","displayName":"Starting Field Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow Comments":{"name":"Allow Comments","displayName":"Allow Comments","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordReaderFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.6.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e"},{"identifier":"378adbdb-819f-3d8b-a239-dc8f2127a3ec","instanceIdentifier":"8ec95c66-019a-1000-d02a-b809f419d51d","name":"JsonWriter","comments":"","type":"org.apache.nifi.json.JsonRecordSetWriter","bundle":{"group":"org.apache.nifi","artifact":"nifi-record-serialization-services-nar","version":"2.6.0"},"properties":{"schema-reference-reader":null,"schema-branch":null,"Allow Scientific Notation":"false","compression-level":"1","schema-cache":null,"Timestamp Format":null,"Date Format":null,"Pretty Print JSON":"false","compression-format":"none","Schema Write Strategy":"no-schema","suppress-nulls":"never-suppress","output-grouping":"output-array","schema-name":"${schema.name}","schema-registry":null,"Time Format":null,"schema-access-strategy":"inherit-record-schema","schema-version":null,"schema-text":"${avro.schema}","Schema Reference Writer":null},"propertyDescriptors":{"schema-reference-reader":{"name":"schema-reference-reader","displayName":"Schema Reference Reader","identifiesControllerService":true,"sensitive":false,"dynamic":false},"schema-branch":{"name":"schema-branch","displayName":"Schema Branch","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Allow Scientific Notation":{"name":"Allow Scientific Notation","displayName":"Allow Scientific Notation","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-level":{"name":"compression-level","displayName":"Compression Level","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-cache":{"name":"schema-cache","displayName":"Schema Cache","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Timestamp Format":{"name":"Timestamp Format","displayName":"Timestamp Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Date Format":{"name":"Date Format","displayName":"Date Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Pretty Print JSON":{"name":"Pretty Print JSON","displayName":"Pretty Print JSON","identifiesControllerService":false,"sensitive":false,"dynamic":false},"compression-format":{"name":"compression-format","displayName":"Compression Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Write Strategy":{"name":"Schema Write Strategy","displayName":"Schema Write Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"suppress-nulls":{"name":"suppress-nulls","displayName":"Suppress Null Values","identifiesControllerService":false,"sensitive":false,"dynamic":false},"output-grouping":{"name":"output-grouping","displayName":"Output Grouping","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-name":{"name":"schema-name","displayName":"Schema Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-registry":{"name":"schema-registry","displayName":"Schema Registry","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Time Format":{"name":"Time Format","displayName":"Time Format","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-access-strategy":{"name":"schema-access-strategy","displayName":"Schema Access Strategy","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-version":{"name":"schema-version","displayName":"Schema Version","identifiesControllerService":false,"sensitive":false,"dynamic":false},"schema-text":{"name":"schema-text","displayName":"Schema Text","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Schema Reference Writer":{"name":"Schema Reference Writer","displayName":"Schema Reference Writer","identifiesControllerService":true,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.serialization.RecordSetWriterFactory","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.6.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e"},{"identifier":"4d434277-7f05-3e96-bfce-6640cfe5b049","instanceIdentifier":"7fba1df7-019a-1000-ff28-4b00de3e6752","name":"PostgresPool","comments":"","type":"org.apache.nifi.dbcp.DBCPConnectionPool","bundle":{"group":"org.apache.nifi","artifact":"nifi-dbcp-service-nar","version":"2.6.0"},"properties":{"dbcp-min-idle-conns":"0","Max Wait Time":"500 millis","Database Driver Class Name":"org.postgresql.Driver","dbcp-min-evictable-idle-time":"30 mins","Max Total Connections":"8","dbcp-max-conn-lifetime":"-1","Validation-query":null,"Database Connection URL":"jdbc:postgresql://postgres:5432/uzleti-intelligencia","dbcp-time-between-eviction-runs":"-1","Database User":"user","kerberos-user-service":null,"dbcp-soft-min-evictable-idle-time":"-1","database-driver-locations":"/opt/nifi/nifi-current/jdbc/postgresql-42.7.7.jar","dbcp-max-idle-conns":"8"},"propertyDescriptors":{"dbcp-min-idle-conns":{"name":"dbcp-min-idle-conns","displayName":"Minimum Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Wait Time":{"name":"Max Wait Time","displayName":"Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Driver Class Name":{"name":"Database Driver Class Name","displayName":"Database Driver Class Name","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbcp-min-evictable-idle-time":{"name":"dbcp-min-evictable-idle-time","displayName":"Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Max Total Connections":{"name":"Max Total Connections","displayName":"Max Total Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbcp-max-conn-lifetime":{"name":"dbcp-max-conn-lifetime","displayName":"Max Connection Lifetime","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Validation-query":{"name":"Validation-query","displayName":"Validation query","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Connection URL":{"name":"Database Connection URL","displayName":"Database Connection URL","identifiesControllerService":false,"sensitive":false,"dynamic":false},"dbcp-time-between-eviction-runs":{"name":"dbcp-time-between-eviction-runs","displayName":"Time Between Eviction Runs","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database User":{"name":"Database User","displayName":"Database User","identifiesControllerService":false,"sensitive":false,"dynamic":false},"kerberos-user-service":{"name":"kerberos-user-service","displayName":"Kerberos User Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"dbcp-soft-min-evictable-idle-time":{"name":"dbcp-soft-min-evictable-idle-time","displayName":"Soft Minimum Evictable Idle Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"database-driver-locations":{"name":"database-driver-locations","displayName":"Database Driver Location(s)","identifiesControllerService":false,"sensitive":false,"dynamic":false,"resourceDefinition":{"cardinality":"MULTIPLE","resourceTypes":["DIRECTORY","URL","FILE"]}},"dbcp-max-idle-conns":{"name":"dbcp-max-idle-conns","displayName":"Max Idle Connections","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.dbcp.DBCPService","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.6.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e"},{"identifier":"a196f180-5bfe-3be5-a942-d368efa87fe9","instanceIdentifier":"8eccf7c3-019a-1000-6e95-ad45c50b2b80","name":"RedisConnectionPool","comments":"","type":"org.apache.nifi.redis.service.RedisConnectionPoolService","bundle":{"group":"org.apache.nifi","artifact":"nifi-redis-nar","version":"2.6.0"},"properties":{"Pool - Min Evictable Idle Time":"60 seconds","Pool - Test On Borrow":"false","Pool - Test On Return":"false","Redis Mode":"Standalone","Pool - Max Idle":"8","Pool - Block When Exhausted":"true","Cluster Max Redirects":"5","Pool - Num Tests Per Eviction Run":"-1","Connection String":"redis-uzleti-intelligencia:6379","Pool - Max Total":"8","Pool - Test On Create":"false","SSL Context Service":null,"Sentinel Username":null,"Pool - Min Idle":"0","Username":null,"Pool - Test While Idle":"true","Pool - Time Between Eviction Runs":"30 seconds","Communication Timeout":"10 seconds","Pool - Max Wait Time":"10 seconds","Database Index":"0","Sentinel Master":null},"propertyDescriptors":{"Pool - Min Evictable Idle Time":{"name":"Pool - Min Evictable Idle Time","displayName":"Pool - Min Evictable Idle Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Pool - Test On Borrow":{"name":"Pool - Test On Borrow","displayName":"Pool - Test On Borrow","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Pool - Test On Return":{"name":"Pool - Test On Return","displayName":"Pool - Test On Return","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Redis Mode":{"name":"Redis Mode","displayName":"Redis Mode","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Pool - Max Idle":{"name":"Pool - Max Idle","displayName":"Pool - Max Idle","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Pool - Block When Exhausted":{"name":"Pool - Block When Exhausted","displayName":"Pool - Block When Exhausted","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Cluster Max Redirects":{"name":"Cluster Max Redirects","displayName":"Cluster Max Redirects","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Pool - Num Tests Per Eviction Run":{"name":"Pool - Num Tests Per Eviction Run","displayName":"Pool - Num Tests Per Eviction Run","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Connection String":{"name":"Connection String","displayName":"Connection String","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Pool - Max Total":{"name":"Pool - Max Total","displayName":"Pool - Max Total","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Pool - Test On Create":{"name":"Pool - Test On Create","displayName":"Pool - Test On Create","identifiesControllerService":false,"sensitive":false,"dynamic":false},"SSL Context Service":{"name":"SSL Context Service","displayName":"SSL Context Service","identifiesControllerService":true,"sensitive":false,"dynamic":false},"Sentinel Username":{"name":"Sentinel Username","displayName":"Sentinel Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Pool - Min Idle":{"name":"Pool - Min Idle","displayName":"Pool - Min Idle","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Username":{"name":"Username","displayName":"Username","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Sentinel Password":{"name":"Sentinel Password","displayName":"Sentinel Password","identifiesControllerService":false,"sensitive":true,"dynamic":false},"Pool - Test While Idle":{"name":"Pool - Test While Idle","displayName":"Pool - Test While Idle","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Pool - Time Between Eviction Runs":{"name":"Pool - Time Between Eviction Runs","displayName":"Pool - Time Between Eviction Runs","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Communication Timeout":{"name":"Communication Timeout","displayName":"Communication Timeout","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Pool - Max Wait Time":{"name":"Pool - Max Wait Time","displayName":"Pool - Max Wait Time","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Database Index":{"name":"Database Index","displayName":"Database Index","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Sentinel Master":{"name":"Sentinel Master","displayName":"Sentinel Master","identifiesControllerService":false,"sensitive":false,"dynamic":false},"Password":{"name":"Password","displayName":"Password","identifiesControllerService":false,"sensitive":true,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.redis.RedisConnectionPool","bundle":{"group":"org.apache.nifi","artifact":"nifi-redis-service-api-nar","version":"2.6.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e"},{"identifier":"36a69204-c140-31b9-abc3-f2648f58755a","instanceIdentifier":"8eef9589-019a-1000-7cbb-53cbe76504a1","name":"RedisDistributedMapCacheClientService","comments":"","type":"org.apache.nifi.redis.service.RedisDistributedMapCacheClientService","bundle":{"group":"org.apache.nifi","artifact":"nifi-redis-nar","version":"2.6.0"},"properties":{"redis-connection-pool":"a196f180-5bfe-3be5-a942-d368efa87fe9","redis-cache-ttl":"360 secs"},"propertyDescriptors":{"redis-connection-pool":{"name":"redis-connection-pool","displayName":"Redis Connection Pool","identifiesControllerService":true,"sensitive":false,"dynamic":false},"redis-cache-ttl":{"name":"redis-cache-ttl","displayName":"TTL","identifiesControllerService":false,"sensitive":false,"dynamic":false}},"controllerServiceApis":[{"type":"org.apache.nifi.distributed.cache.client.AtomicDistributedMapCacheClient","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.6.0"}},{"type":"org.apache.nifi.distributed.cache.client.DistributedMapCacheClient","bundle":{"group":"org.apache.nifi","artifact":"nifi-standard-services-api-nar","version":"2.6.0"}}],"scheduledState":"DISABLED","bulletinLevel":"WARN","componentType":"CONTROLLER_SERVICE","groupIdentifier":"e96b7ddb-4931-3ea9-aba1-218508813d6e"}],"parameterContextName":"global-etl-context","defaultFlowFileExpiration":"0 sec","defaultBackPressureObjectThreshold":10000,"defaultBackPressureDataSizeThreshold":"1 GB","scheduledState":"ENABLED","executionEngine":"INHERITED","maxConcurrentTasks":1,"statelessFlowTimeout":"1 min","flowFileConcurrency":"UNBOUNDED","flowFileOutboundPolicy":"STREAM_WHEN_AVAILABLE","componentType":"PROCESS_GROUP"},"externalControllerServices":{},"parameterContexts":{"global-etl-context":{"name":"global-etl-context","parameters":[{"name":"stock.topN","description":"","sensitive":false,"provided":false,"value":"20"},{"name":"crypto.topN","description":"","sensitive":false,"provided":false,"value":"20"}],"inheritedParameterContexts":[],"description":"","componentType":"PARAMETER_CONTEXT"}},"flowEncodingVersion":"1.0","parameterProviders":{},"latest":false}